<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Towards a Next-Generation Land Parcels Management</title>

    <!-- 1. Load Tailwind CSS CDN FIRST -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- 2. FontAwesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <!-- 3. Configure Tailwind Object -->
    <script>
        window.tailwind = {
            config: {
                theme: {
                    extend: {
                        colors: {'primary-accent': '#593B9F', // Deep Blue-Purple
                                 'secondary-accent': '#45A2FF', // Deep Blue

	                            // Data Visualization Colors
	                            'app-color': '#15803d', // Dark Green
	                            'platform-color': '#007bff', // Dark Neon-Blue
	                            'consumer-color': '#ea580c', // Dark Vivid-Orange
	                            'yellow-border': '#F5E427', // Custom Yellow Border
	                            'subtitle-color': '#D6C720', // New subtitle color

	                            // Base Colors
	                            'bg-light': '#FFFFFF',
	                            'text-dark': '#343A40'}
                    			}
                			}
            			}
        		}
    </script>

    <!-- Load Chart.js for dynamic charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

    <!-- Use Inter font family -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        /* Styles from operational workflow */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA;
            color: #343A40;
            transition: all 0.3s ease;
            height: 100vh;
            overflow: hidden;
        }

        .focus-shadow-blue:focus {
            box-shadow: 0 0 0 3px rgba(69, 162, 255, 0.4);
        }

        .text-neon {
            color: #45A2FF;
        }

        .custom-checkbox:checked {
            background-color: #593B9F;
            border-color: #593B9F;
        }

        .custom-checkbox {
            color: #FFFFFF;
            border-color: #593B9F;
        }

        /* --- STYLES FOR OPERATIONAL WORKFLOW --- */

        /* Global Particle Animation */
        @keyframes traverse {
            0% {
                top: 0;
                opacity: 0;
                background-color: #3b82f6;
            }

            2% {
                opacity: 1;
            }

            25% {
                background-color: #3b82f6;
            }

            35% {
                background-color: #6366f1;
            }

            60% {
                background-color: #f97316;
            }

            85% {
                background-color: #10b981;
            }

            98% {
                opacity: 1;
            }

            100% {
                top: 100%;
                opacity: 0;
                background-color: #10b981;
            }
        }

        .global-particle {
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            left: 50%;
            transform: translateX(-50%);
            animation: traverse 5s linear infinite;
            z-index: 20;
            box-shadow: 0 0 12px rgba(255, 255, 255, 0.8), 0 0 4px rgba(0, 0, 0, 0.1);
            border: 2px solid white;
        }

        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .connector-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background-color: #e2e8f0;
            transform: translateX(-50%);
            z-index: 0;
        }

        /* Pulse animation for active elements */
        .pulse-ring {
            box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7);
            animation: pulse-blue 2s infinite;
        }

        @keyframes pulse-blue {
            0% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7);
            }

            70% {
                transform: scale(1);
                box-shadow: 0 0 0 10px rgba(59, 130, 246, 0);
            }

            100% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
            }
        }

        .db-grid {
            background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
            background-size: 10px 10px;
        }

        /* Scribble Animation for Pen */
        @keyframes scribble {
            0% {
                transform: rotate(0deg) scale(1);
            }

            25% {
                transform: rotate(-10deg) scale(1.1);
            }

            50% {
                transform: rotate(0deg) scale(1);
            }

            75% {
                transform: rotate(10deg) scale(1.1);
            }

            100% {
                transform: rotate(0deg) scale(1);
            }
        }

        .animate-scribble {
            display: inline-block;
            animation: scribble 0.8s ease-in-out infinite;
        }

        /* Database Glow Animation */
        @keyframes glowFade {

            0%,
            100% {
                opacity: 1;
                filter: drop-shadow(0 0 2px rgba(249, 115, 22, 0.4));
                transform: scale(1);
            }

            50% {
                opacity: 0.7;
                filter: drop-shadow(0 0 10px rgba(249, 115, 22, 0.9));
                transform: scale(1.1);
            }
        }

        .animate-glow-fade {
            animation: glowFade 2s infinite ease-in-out;
        }

        /* Gold Border Fade Animation for CMS */
        @keyframes borderFade {

            0%,
            100% {
                border-color: #F5E427;
                opacity: 1;
            }

            50% {
                border-color: rgba(245, 228, 39, 0.3);
            }
        }

        .animate-border-fade {
            animation: borderFade 3s infinite ease-in-out;
        }

        /* Blue Glow Animation */
        @keyframes glowBlue {

            0%,
            100% {
                opacity: 1;
                filter: drop-shadow(0 0 2px rgba(59, 130, 246, 0.4));
                transform: scale(1);
            }

            50% {
                opacity: 0.8;
                filter: drop-shadow(0 0 10px rgba(59, 130, 246, 0.9));
                transform: scale(1.1);
            }
        }

        .animate-glow-blue {
            animation: glowBlue 2s infinite ease-in-out;
        }

        /* Yellow Glow Animation */
        @keyframes glowYellow {

            0%,
            100% {
                opacity: 1;
                filter: drop-shadow(0 0 2px rgba(245, 228, 39, 0.4));
                transform: scale(1);
            }

            50% {
                opacity: 0.8;
                filter: drop-shadow(0 0 10px rgba(245, 228, 39, 0.9));
                transform: scale(1.1);
            }
        }

        .animate-glow-yellow {
            animation: glowYellow 2s infinite ease-in-out;
        }

        /* --- STYLES FOR DB ARCHITECTURE DIAGRAM --- */
        .table-list::-webkit-scrollbar {
            width: 6px;
        }

        .table-list::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        .table-list::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 4px;
        }

        .table-list::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }

        .realm-card {
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.4s ease;
        }

        .realm-card:hover {
            transform: scale(1.12);
            z-index: 50;
            box-shadow: 0 30px 60px -15px rgba(0, 0, 0, 0.3);
        }

        @keyframes pulseGlowPath {

            0%,
            100% {
                opacity: 0.5;
                stroke-width: 8px;
            }

            50% {
                opacity: 1;
                stroke-width: 14px;
            }
        }

        .connection-path {
            vector-effect: non-scaling-stroke;
            stroke-linecap: round;
            fill: none;
            animation: pulseGlowPath 2s ease-in-out infinite;
        }

        .glow-amber {
            stroke: #f59e0b;
            filter: drop-shadow(0 0 8px rgba(245, 158, 11, 0.8));
        }

        .glow-purple {
            stroke: #a855f7;
            filter: drop-shadow(0 0 8px rgba(168, 85, 247, 0.8));
        }

        .glow-teal {
            stroke: #0d9488;
            filter: drop-shadow(0 0 8px rgba(13, 148, 136, 0.8));
        }

        @media (max-width: 768px) {
            .db-connection-line {
                display: none;
            }
        }

        /* --- STYLES FROM ETL.CSS (INTEGRATED) --- */
        /* Background for the ETL diagram wrapper only, to match the original look */
        .etl-diagram-wrapper {
            background-color: #f3f4f6;
            background-image: radial-gradient(#e5e7eb 1px, transparent 1px);
            background-size: 20px 20px;
            border-radius: 1rem;
            /* Added radius for better fit */
        }

        /* 1. Dashed Line Flow */
        @keyframes dashFlow {
            from {
                stroke-dashoffset: 24;
            }

            to {
                stroke-dashoffset: 0;
            }
        }

        .connection-line {
            stroke-dasharray: 6 6;
            animation: dashFlow 1s linear infinite;
        }

        /* 2. Flow Point */
        @keyframes flowPoint {
            0% {
                left: 0%;
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                left: 100%;
                opacity: 0;
            }
        }

        .animate-flow-point {
            animation: flowPoint 3s linear infinite;
        }

        /* 3. Badge Pulse */
        @keyframes badgePulse {

            0%,
            100% {
                box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
                border-color: #bfdbfe;
                transform: scale(1);
            }

            15% {
                box-shadow: 0 0 15px 2px rgba(59, 130, 246, 0.6);
                border-color: #3b82f6;
                transform: scale(1.15);
                background-color: #eff6ff;
            }

            30% {
                box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
                border-color: #bfdbfe;
                transform: scale(1);
                background-color: white;
            }
        }

        .animate-badge {
            animation: badgePulse 3s linear infinite;
        }
    </style>

    <!-- Tailwind-specific styles -->
    <style type="text/tailwindcss">
        .workflow-step {
            @apply flex items-center justify-center space-x-3 p-4 rounded-xl text-white font-semibold shadow-2xl transition-transform duration-200 hover:scale-[1.02] text-sm sm:text-base border-b-4 border-b-white/50;
        }
        .workflow-arrow {
            @apply flex justify-center items-center h-10;
        }
        .workflow-arrow svg {
            @apply text-primary-accent w-6 h-6 animate-pulse;
        }
    </style>
</head>

<body class="bg-[#F8F9FA] text-gray-800 text-text-dark flex">

    <!-- 1. Fixed Side Menu (Sidebar) -->
    <aside id="sidebar"
        class="fixed top-0 left-0 h-full flex-shrink-0 transition-all duration-300 bg-primary-accent shadow-xl z-20 w-16 md:w-64">
        <div class="p-4 border-b border-white/20 h-16 flex items-center justify-end overflow-hidden">
            <h1 id="sidebar-title"
                class="text-xl font-extrabold text-white whitespace-nowrap transition-opacity duration-300 w-full opacity-100 hidden md:block">
                Menu</h1>

            <button id="toggle-sidebar-btn"
                class="text-white hover:text-secondary-accent transition duration-200 focus:outline-none flex-shrink-0 ml-2"
                aria-label="Toggle Menu">
                <svg id="toggle-icon" xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6 transform transition-transform duration-300" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                </svg>
            </button>
        </div>

        <!-- Navigation Tabs -->
        <nav class="p-2 space-y-2">
            <!-- 1. About Link -->
            <a href="#" data-page="home"
                class="nav-link flex items-center p-3 rounded-lg text-sm font-medium transition duration-200 bg-secondary-accent/10 text-white border-l-4 border-secondary-accent shadow-md">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 flex-shrink-0" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <span class="ml-3 whitespace-nowrap sidebar-text hidden md:inline">About</span>
            </a>

            <!-- 2. Operational Workflow -->
            <a href="#" data-page="workflow"
                class="nav-link flex items-center p-3 rounded-lg text-sm font-medium text-gray-300 hover:bg-white/10 hover:text-white transition duration-200 border-l-4 border-transparent hover:border-secondary-accent">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 flex-shrink-0" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m7 3h4m-4 0v-4m4 4v-4" />
                </svg>
                <span class="ml-3 whitespace-nowrap sidebar-text hidden md:inline">Operational Workflow</span>
            </a>

            <!-- 3. Defining Schema -->
            <a href="#" data-page="schema"
                class="nav-link flex items-center p-3 rounded-lg text-sm font-medium text-gray-300 hover:bg-white/10 hover:text-white transition duration-200 border-l-4 border-transparent hover:border-secondary-accent shadow-md">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 flex-shrink-0" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M4 7v10M10 5v14M16 5v14M20 7v10" />
                </svg>
                <span class="ml-3 whitespace-nowrap sidebar-text hidden md:inline">Defining Schema</span>
            </a>

            <!-- 4. ETL Pipeline & Integration -->
            <a href="#" data-page="etl"
                class="nav-link flex items-center p-3 rounded-lg text-sm font-medium text-gray-300 hover:bg-white/10 hover:text-white transition duration-200 border-l-4 border-transparent hover:border-secondary-accent">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 flex-shrink-0" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" />
                </svg>
                <span class="ml-3 whitespace-nowrap sidebar-text hidden md:inline">ETL Pipeline & Integration</span>
            </a>

            <!-- 5. Official Data Editing -->
            <a href="#" data-page="tasks"
                class="nav-link flex items-center p-3 rounded-lg text-sm font-medium text-gray-300 hover:bg-white/10 hover:text-white transition duration-200 border-l-4 border-transparent hover:border-secondary-accent">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 flex-shrink-0" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                </svg>
                <span class="ml-3 whitespace-nowrap sidebar-text hidden md:inline">Official Data Editing</span>
            </a>

            <!-- 6. Challenges -->
            <a href="#" data-page="challenges"
                class="nav-link flex items-center p-3 rounded-lg text-sm font-medium text-gray-300 hover:bg-white/10 hover:text-white transition duration-200 border-l-4 border-transparent hover:border-secondary-accent">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 flex-shrink-0" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                </svg>
                <span class="ml-3 whitespace-nowrap sidebar-text hidden md:inline">Challenges</span>
            </a>

            <!-- 7. What's Next? -->
            <a href="#" data-page="next"
                class="nav-link flex items-center p-3 rounded-lg text-sm font-medium text-gray-300 hover:bg-white/10 hover:text-white transition duration-200 border-l-4 border-transparent hover:border-secondary-accent">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 flex-shrink-0" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                </svg>
                <span class="ml-3 whitespace-nowrap sidebar-text hidden md:inline">What's Next?</span>
            </a>

            <!-- 7. Reach Out -->
            <a href="#" data-page="ReachOut"
                class="nav-link flex items-center p-3 rounded-lg text-sm font-medium text-gray-300 hover:bg-white/10 hover:text-white transition duration-200 border-l-4 border-transparent hover:border-secondary-accent">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 flex-shrink-0" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                </svg>
                <span class="ml-3 whitespace-nowrap sidebar-text hidden md:inline">Reach Out</span>
            </a>
        </nav>
    </aside>

    <!-- 2. Main Content Area Wrapper -->
    <div id="main-content" class="flex-1 overflow-y-auto transition-all duration-300 ml-16 md:ml-64">
        <main class="p-6 sm:p-10 min-h-screen">

            <!-- Header for Mobile/Small Screens -->
            <header class="block md:hidden mb-6">
                <h2 class="text-3xl font-extrabold text-text-dark">Towards a Next-Generation Land Parcels Management
                </h2>
                <p class="font-bold text-subtitle-color">The Journey of the Survey of Israel</p>
				<p class="font-bold text-subtitle-color">by Ofir Mazor</p>
				
            </header>

            <!-- Content Containers (Pages) -->
            <div id="content-container" class="space-y-20">

                <!-- HOME PAGE -->
                <section id="page-home" class="page-content active">
                    <!-- ... Header Block ... -->
                    <div class="mb-10 p-6 sm:p-10 bg-bg-light rounded-xl shadow-lg border-t-8 border-yellow-border">
                        <h1 class="text-5xl font-extrabold text-primary-accent mb-2 tracking-tight">
                            Towards a Next-Generation Land Parcels Management
                        </h1>
                        <p class="text-xl font-bold text-subtitle-color">
                            The Journey of the Survey of Israel
                        </p>
                    </div>

                    <div class="space-y-10">
                        <!-- ... About the Project ... -->
                        <div class="bg-bg-light p-6 sm:p-8 rounded-xl border border-gray-200 shadow-lg">
                            <h2 class="text-3xl font-bold text-primary-accent mb-4 border-b border-gray-300 pb-2">
                                About the Project
                            </h2>
                            <div class="text-text-dark leading-relaxed space-y-4">
                                <p>
                                    Land records serve as the invisible backbone of modern governance. From the
                                    high-precision requirements of tax collection to the long-range vision needed for
                                    urban planning, the accuracy of these records dictates a state's efficiency.
                                    However, a persistent "spatial gap" has historically separated the mathematical
                                    exactness required by surveyors from the analytical flexibility needed by GIS
                                    professionals.
                                </p>
                                <p>
                                    While early friction stemmed from CAD files and physical paper maps, the modern
                                    challenge is more nuanced. The current transformation isn't just a leap from paper
                                    to digital, it is an evolution from earlier-generation GIS formats and isolated
                                    applications toward a truly integrated ecosystem.
                                </p>
                                <p>
                                    Over the past few years, the Survey of Israel has launched a major national initiative to
                                    modernize its cadastral infrastructure. This effort goes far beyond a simple
                                    software upgrade, it represents a broad rethinking of how land administration is
                                    managed and maintained. By gradually addressing the accumulated limitations of older
                                    GIS systems, which have become less flexible over time and unsupported, the state is
                                    laying the groundwork for the demands of 2026 and beyond.
									Shifting the mindset from “If it works, don’t touch it” to “If it works, make it work better.”
                                </p>

                                <p class="font-semibold text-primary-accent pt-2">
                                    The initiative focuses on four critical pillars of modernization:
                                </p>
                                <ul class="list-disc list-outside ml-6 space-y-3">
                                    <li>
                                        <strong>Redesigned Data Structures:</strong> Moving away from outdated formats
                                        to a streamlined, modern cadastral schema.
                                    </li>
                                    <li>
                                        <strong>The ETL Challenge:</strong> A massive effort to Extract, Transform, and
                                        Load (ETL) decades of existing data, standardizing it to ensure consistency
                                        across the board.
                                    </li>
                                    <li>
                                        <strong>Workflow Reimagination:</strong> Replacing siloed, manual update
                                        processes with transparent, valid, and efficient workflows that align with
                                        global best practices.
                                    </li>
                                    <li>
                                        <strong>Integrated Decision-Making:</strong> Rebuilding the platforms and
                                        applications that consume this data, ensuring that the legal record and the
                                        spatial map are no longer inconsistent.
                                    </li>
                                </ul>

                                <p class="pt-2">
                                    Although many earlier attempts were made to achieve these, none fully succeeded due
                                    to previous technological or organizational limitations. Here, by embracing advanced
                                    technologies such as Esri’s Parcel Fabric, the project finally positioned to deliver
                                    a sustainable, innovative, and future-ready cadastral infrastructure for the state.
                                </p>

                                <p>
                                    Finally, though the project supports many institutions and organizations, it places
                                    the public at its center.
                                </p>
                            </div>
                        </div>

                        <!-- ... Timeline & Historical Context ... -->
                        <div class="bg-bg-light p-6 sm:p-8 rounded-xl border border-gray-200 shadow-lg">
                            <h2 class="text-3xl font-bold text-primary-accent mb-4 border-b border-gray-300 pb-2">
                                Timeline & Historical Context</h2>

                            <div class="text-text-dark leading-relaxed space-y-4 mb-8">
                                <p>
                                    The <a href="https://www.gov.il/en/departments/survey_of_israel/govil-landing-page"
                                        target="_blank" class="text-secondary-accent hover:underline">Survey of
                                        Israel</a> traces its roots back to 1920, when it was established as the Survey
                                    Department under the British Mandate. Following the establishment of the State of
                                    Israel in 1948, it became the Survey of Israel and was later placed under the <a
                                        href="https://www.gov.il/en/departments/ministry_of_construction_and_housing/govil-landing-page"
                                        target="_blank" class="text-secondary-accent hover:underline">Ministry of
                                        Construction and Housing</a>.
                                </p>
                                <p>
                                    The country’s first national digital cadastral database emerged in the mid-1990s.
                                    Much of it was built by digitizing historical paper maps—some originally produced by
                                    Ottoman-era cartographers and later refined by British surveyors. While
                                    groundbreaking at the time, this process also carried forward decades of legacy
                                    assumptions and constraints.
                                </p>
                                <p>
                                    Between the late 1990s and 2020, a growing number of applications were developed
                                    around this core database to support regulatory changes and evolving cadastral
                                    instructions for licensed surveyors. New types of land records, for example, were
                                    introduced to reflect changing legal and planning needs. Yet these efforts largely
                                    focused on extending the existing system rather than rethinking it. Several attempts
                                    to modernize the cadastral data itself—beyond simply updating its surrounding
                                    applications - were made prior to 2023, but none fully succeeded.
                                </p>
                                <p>
                                    A turning point came in 2023, when the organization’s CEO had a bold vision: to
                                    create a national digital twin with government and municipal data across Israel.
                                    This vision prompted the Mapping and GIS Division to revisit the cadastral system
                                    from the ground up, reexamining not only how the data is stored, but how it is
                                    maintained, consumed, and ultimately used in a modern, integrated digital ecosystem.
                                </p>
                            </div>

                            <!-- Timeline Chart -->
                            <div class="relative w-full py-16 sm:py-20 border-t border-gray-300 px-4">
                                <div class="relative flex justify-between items-center w-full max-w-6xl mx-auto">
                                    <!-- Line -->
                                    <div
                                        class="absolute left-0 right-0 top-1/2 h-1 bg-gray-400 rounded-full -translate-y-1/2 z-0">
                                    </div>
                                    <!-- Arrow -->
                                    <div
                                        class="absolute -right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-primary-accent z-10 bg-[#F8F9FA] rounded-full">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z" />
                                        </svg>
                                    </div>
                                    <!-- Points -->
                                    <!-- 1920 -->
                                    <div class="relative flex flex-col items-center z-10 group w-1/6">
                                        <div
                                            class="absolute bottom-8 w-24 sm:w-28 text-[10px] sm:text-xs p-1.5 bg-bg-light border border-gray-300 rounded shadow-md text-text-dark text-center leading-tight transition-transform hover:scale-105">
                                            Survey Dept – British Mandate
                                        </div>
                                        <div class="absolute bottom-3 h-5 w-0.5 bg-primary-accent"></div>
                                        <div class="w-3 h-3 bg-primary-accent rounded-full ring-4 ring-[#F8F9FA]"></div>
                                        <div class="absolute top-6 text-xs sm:text-sm font-bold text-text-dark">1920</div>
                                    </div>
                                    <!-- 1948 -->
                                    <div class="relative flex flex-col items-center z-10 group w-1/6">
                                        <div class="absolute bottom-6 text-xs sm:text-sm font-bold text-text-dark">1948</div>
                                        <div class="w-3 h-3 bg-primary-accent rounded-full ring-4 ring-[#F8F9FA]"></div>
                                        <div class="absolute top-3 h-5 w-0.5 bg-primary-accent"></div>
                                        <div
                                            class="absolute top-8 w-24 sm:w-28 text-[10px] sm:text-xs p-1.5 bg-bg-light border border-gray-300 rounded shadow-md text-text-dark text-center leading-tight transition-transform hover:scale-105">
                                            Survey of Israel
                                        </div>
                                    </div>
                                    <!-- 1977 -->
                                    <div class="relative flex flex-col items-center z-10 group w-1/6">
                                        <div
                                            class="absolute bottom-8 w-24 sm:w-28 text-[10px] sm:text-xs p-1.5 bg-bg-light border border-gray-300 rounded shadow-md text-text-dark text-center leading-tight transition-transform hover:scale-105">
                                            Under Ministry of Housing </div>
                                        <div class="absolute bottom-3 h-5 w-0.5 bg-primary-accent"></div>
                                        <div class="w-3 h-3 bg-primary-accent rounded-full ring-4 ring-[#F8F9FA]"></div>
                                        <div class="absolute top-6 text-xs sm:text-sm font-bold text-text-dark">1977</div>
                                    </div>
                                    <!-- 1995 -->
                                    <div class="relative flex flex-col items-center z-10 group w-1/6">
                                        <div class="absolute bottom-6 text-xs sm:text-sm font-bold text-text-dark">1995
                                        </div>
                                        <div class="w-3 h-3 bg-primary-accent rounded-full ring-4 ring-[#F8F9FA]"></div>
                                        <div class="absolute top-3 h-5 w-0.5 bg-primary-accent"></div>
                                        <div
                                            class="absolute top-8 w-24 sm:w-28 text-[10px] sm:text-xs p-1.5 bg-bg-light border border-gray-300 rounded shadow-md text-text-dark text-center leading-tight transition-transform hover:scale-105">
                                            First cadaster DB
                                        </div>
                                    </div>
                                    <!-- 2023 -->
                                    <div class="relative flex flex-col items-center z-10 group w-1/6">
                                        <div
                                            class="absolute bottom-8 w-24 sm:w-28 text-[10px] sm:text-xs p-1.5 bg-bg-light border border-primary-accent/50 rounded shadow-md text-primary-accent text-center leading-tight transition-transform hover:scale-105">
                                            Start modernization
                                        </div>
                                        <div class="absolute bottom-3 h-5 w-0.5 bg-primary-accent"></div>
                                        <div class="w-3 h-3 bg-primary-accent rounded-full ring-4 ring-[#F8F9FA]"></div>
                                        <div class="absolute top-6 text-xs sm:text-sm font-bold text-primary-accent"> 2023</div>
                                    </div>
                                    <!-- 2026 -->
                                    <div class="relative flex flex-col items-center z-10 group w-1/6">
                                        <div class="absolute bottom-6 text-xs sm:text-sm font-bold text-primary-accent"> 2026</div>
                                        <div class="w-3 h-3 bg-primary-accent rounded-full ring-4 ring-[#F8F9FA]"></div>
                                        <div class="absolute top-3 h-5 w-0.5 bg-primary-accent"></div>
                                        <div
                                            class="absolute top-8 w-24 sm:w-28 text-[10px] sm:text-xs p-1.5 bg-bg-light border border-primary-accent/50 rounded shadow-md text-primary-accent text-center leading-tight transition-transform hover:scale-105">
                                            Go-live modernization
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Statistics & Proportions -->
                        <div class="bg-bg-light p-6 sm:p-8 rounded-xl border border-gray-200 shadow-lg">
                            <h3 class="text-3xl font-bold text-primary-accent mb-4 border-b border-gray-300 pb-2">
                                Statistics & Proportions
                            </h3>
                            <p class="text-text-dark leading-relaxed space-y-4 mb-8">
                                Based on recent data, our cadastral section is currently facing a production deficit.<br />
                                We are receiving an average of 115 records per month but only completing 100, which is causing our backlog to expand.<br />
                                This growth is driven mostly by urban development, as we now manage over 1.1 million parcels.<br />

                                The most striking takeaway is our staffing structure.<br />
                                With 60 reviewers and only 5 editors, the 1:12 ratio indicates that the bottleneck occurs during the initial editing stage<br />
                                To address this and improve efficiency, it is vital to implement automation in our editing workflows to better support our cadastral editors.<br />
                            </p>

                            <iframe src="StatisticsAndProportions.html" style="width:100%; height:840px; border:none;" loading="lazy"></iframe>
                        </div>

                        <!-- ... Goals & Vision ... -->
                        <div class="bg-bg-light p-6 sm:p-8 rounded-xl border border-gray-200 shadow-lg">
                            <h2 class="text-3xl font-bold text-primary-accent mb-4 border-b border-gray-300 pb-2">
                                Goals & Vision
                            </h2>
                            <ul class="list-disc list-inside space-y-3 text-text-dark ml-4">
                                <li class="pl-2">
                                    Applying faster updates & modifications in the cadastral data by automating the edits workflow (as much as possible), saving time and effort for cadastral editors.
                                </li>
                                <li class="pl-2">
                                    Flexible system that can evolve with changing organizational requirements and seamlessly absorb emerging technologies, whether tomorrow or years down the line.
                                </li>
                                <li class="pl-2">
                                    Ensure data integrity by maintaining consistently validated dataset.
                                </li>
                                <li class="pl-2">
                                    Enable historical tracking over time by preserving retired features,
                                </li>
                                <li class="pl-2">
                                    Introduce 3D cadastre logic, moving beyond traditional 2D paradigms to accurately represent complex vertical ownership and rights.
                                </li>
                                <li class="pl-2">
                                    Simplify data enrichment workflows with intuitive methods to fill gaps, complete missing values, and systematically enhance dataset completeness.
                                </li>
                            </ul>
                        </div>

                        <!-- Desired Ecosystem -->
                        <div class="bg-bg-light p-6 sm:p-8 rounded-xl border border-gray-200 shadow-lg">
                            <h3 class="text-3xl font-bold text-primary-accent mb-4 border-b border-gray-300 pb-1">
                                Desired Ecosystem
                            </h3>
                            <p class="text-text-dark leading-relaxed space-y-4 mb-8">
                                The diagram below illustrates the desired ecosystem, mapping out key components and their interconnections.<br />
                                The National Cadaster Database resides at the core of this structure.<br />
                                This visual is interactive- hover over specific elements to learn more about each one.
                            <p class="text-sm text-black mb-4 whitespace-pre-line">
                                <span style="color: #FF4500; font-weight: bold;">Modifiers:</span>
                                These professional teams manage data insertion, updates, and maintenance, employing a variety of applications to execute these workflows.
                            </p>
                            
                            <p class="text-sm text-black mb-4 whitespace-pre-line">
                                <span style="color: #059669; font-weight: bold;">Applications:</span>
                                These applications (or softwares) facilitate workflow management, enabling users to edit, update, or insert new data into the National Cadaster Database.
                            </p>
                            
                            <p class="text-sm text-black mb-4 whitespace-pre-line">
                                <span style="color: #9333ea; font-weight: bold;">Platforms:</span>
                                These platforms provide solutions for data sharing and visualization outside of the organization.
                            </p>
                            
                            <p class="text-sm text-black mb-4 whitespace-pre-line">
                                <span style="color: #eab308; font-weight: bold;">Readers:</span>
                                End-users and external clients who consume the data.
                            </p>

                            </p>
                            <iframe src="DesiredEcosystem.html" style="width:100%; height:600px; border:none;" loading="lazy"></iframe>
                        </div>

                        <!-- Next Page Navigation -->
                        <div class="flex justify-end mt-10">
                            <a href="#" data-page="workflow"
                                class="next-page-link text-secondary-accent font-bold hover:underline flex items-center text-lg transition-transform duration-200 hover:translate-x-2">
                                Next: Operational Workflow
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 ml-2" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                                </svg>
                            </a>
                        </div>
                    </div>
                </section>

                <!-- OPERATIONAL WORKFLOW PAGE -->
                <section id="page-workflow" class="page-content hidden">
                    <div class="relative w-full h-full bg-[#f0f4f8]">
                        <!-- Header -->
                        <header
                            class="bg-purple-700 text-white py-6 px-4 relative overflow-hidden transition-all duration-500 rounded-b-xl mb-4">
                            <div class="absolute top-0 left-0 w-full h-full opacity-10">
                                <i class="fa-solid fa-map absolute top-10 left-10 text-9xl"></i>
                                <i class="fa-solid fa-layer-group absolute bottom-10 right-10 text-9xl"></i>
                            </div>
                            <div class="max-w-4xl mx-auto text-center relative z-10">
                                <div
                                    class="inline-block bg-[#F5E427] text-slate-900 text-xs font-bold px-3 py-1 rounded-full mb-4 uppercase tracking-wider">
                                    Operational Workflow</div>
                                <div class="flex justify-center items-center gap-4 mb-6">
                                    <button onclick="switchMode('old')" id="btn-old"
                                        class="bg-white text-slate-900 px-6 py-2 rounded-full font-bold shadow-lg transition-all transform hover:scale-105 ring-2 ring-white">Old
                                        Lifecycle</button>
                                    <button onclick="switchMode('new')" id="btn-new"
                                        class="bg-slate-800 text-slate-400 px-6 py-2 rounded-full font-bold shadow-lg transition-all transform hover:scale-105 hover:bg-slate-700 border border-slate-700">New
                                        Lifecycle</button>
                                </div>
                                <h1 id="page-title"
                                    class="text-3xl md:text-4xl font-bold mb-2 transition-all duration-300">The Old
                                    Cadastral Plan Lifecycle</h1>
                            </div>
                        </header>

                        <!-- Main Workflow Container -->
                        <main class="max-w-5xl mx-auto px-4 py-8 relative min-h-[800px]">
                            <div class="connector-line hidden md:block"></div>
                            <!-- Particles -->
                            <div class="hidden md:block global-particle" style="animation-delay: 0s;"></div>
                            <div class="hidden md:block global-particle" style="animation-delay: -1.25s;"></div>
                            <div class="hidden md:block global-particle" style="animation-delay: -2.5s;"></div>
                            <div class="hidden md:block global-particle" style="animation-delay: -3.75s;"></div>

                            <!-- OLD LIFECYCLE CONTENT -->
                            <div id="content-old">
                                <!-- 1. Submission -->
                                <div class="relative flex flex-col md:flex-row items-center mb-10 group">
                                    <div
                                        class="w-full md:w-1/2 flex justify-center md:justify-end md:pr-12 mb-4 md:mb-0">
                                        <div
                                            class="w-20 h-20 bg-white rounded-full border-4 border-blue-500 flex items-center justify-center z-10 shadow-lg pulse-ring">
                                            <i
                                                class="fa-solid fa-hard-hat text-2xl text-blue-600 animate-glow-blue"></i>
                                        </div>
                                    </div>
                                    <div class="w-full md:w-1/2 md:pl-12">
                                        <div
                                            class="bg-white p-5 rounded-xl shadow-md border-l-4 border-blue-500 card-hover transition-all duration-300">
                                            <div class="flex justify-between items-start mb-2">
                                                <h3 class="text-lg font-bold text-slate-800">1. Submission</h3>
                                            </div>
                                            <p class="text-slate-600 mb-3 text-sm">Land surveyors from the private
                                                sector submitting their cadastral plans (CAD files and other related
                                                documents) through the Topocad platform. Topocad is like a hub platform
                                                that provides data access and visualization mainly for land surveyors
                                                (but it's open for the public also).</p>
                                            <div class="bg-slate-50 p-3 rounded-lg flex items-center gap-3">
                                                <i class="fa-solid fa-cloud-arrow-up text-blue-400 text-lg"></i>
                                                <div class="text-sm"><span class="block font-semibold">Topocad
                                                        Platform</span><span
                                                        class="text-xs text-slate-500">Public/Surveyor Access Hub</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- 2. Review -->
                                <div class="relative flex flex-col md:flex-row-reverse items-center mb-10">
                                    <div
                                        class="w-full md:w-1/2 flex justify-center md:justify-start md:pl-12 mb-4 md:mb-0">
                                        <div
                                            class="w-20 h-20 bg-white rounded-full border-4 border-indigo-500 flex items-center justify-center z-10 shadow-lg relative">
                                            <i class="fa-solid fa-gear fa-spin text-3xl text-indigo-600"></i>
                                        </div>
                                    </div>
                                    <div class="w-full md:w-1/2 md:pl-12">
                                        <div
                                            class="bg-white p-5 rounded-xl shadow-md border-r-4 border-indigo-500 card-hover transition-all duration-300 text-left">
                                            <div class="flex flex-row justify-between items-start mb-2">
                                                <h3 class="text-lg font-bold text-slate-800">2. Review & Validation</h3>
                                            </div>
                                            <p class="text-slate-600 mb-3 text-sm">The submission files are reviewed by
                                                the Cadaster reviewers, who initiate the Cyclamen app. When errors are
                                                found, the land surveyors is requested to fix their files.</p>
                                            <div class="bg-slate-50 p-3 rounded-lg flex items-center gap-3">
                                                <i class="fa-solid fa-list-check" style="color: #B197FC;"></i>
                                                <div class="text-sm"><span
                                                        class="block font-semibold">Cyclamen</span><span
                                                        class="text-xs text-slate-500">Automated testing wizard</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- 3. Conversion -->
                                <div class="relative flex flex-col md:flex-row items-center mb-10">
                                    <div
                                        class="w-full md:w-1/2 flex justify-center md:justify-end md:pr-12 mb-4 md:mb-0">
                                        <div
                                            class="w-20 h-20 bg-white rounded-full border-4 border-orange-400 flex items-center justify-center z-10 shadow-lg">
                                            <i
                                                class="fa-solid fa-database text-2xl text-orange-500 animate-glow-yellow"></i>
                                        </div>
                                    </div>
                                    <div class="w-full md:w-1/2 md:pl-12">
                                        <div
                                            class="bg-white p-5 rounded-xl shadow-md border-l-4 border-orange-400 card-hover transition-all duration-300">
                                            <div class="flex justify-between items-start mb-2">
                                                <h3 class="text-lg font-bold text-slate-800">3. Conversion & Storage
                                                </h3>
                                            </div>
                                            <div class="flex items-center gap-4 mb-3">
                                                <div class="text-center"><i
                                                        class="fa-regular fa-file-code text-xl text-blue-900 mb-1"></i>
                                                    <div class="text-xs font-bold text-blue-900">CAD</div>
                                                </div>
                                                <i class="fa-solid fa-arrow-right text-black text-sm"></i>
                                                <div class="text-center"><i
                                                        class="fa-solid fa-globe text-xl text-green-500 mb-1"></i>
                                                    <div class="text-xs font-bold text-green-600">GIS</div>
                                                </div>
                                            </div>
                                            <p class="text-slate-600 mb-3 text-sm">Cyclamen converts the CAD data into
                                                GIS format and store it as "In-Process" data across several databases
                                                (and not in one location). Notice that up to this station, the official
                                                cadastral data hasn't been modified yet.</p>
                                            <div
                                                class="border border-slate-200 p-2 rounded bg-slate-50 text-[10px] text-slate-500 flex justify-around items-end h-12 relative overflow-hidden">
                                                <div class="flex flex-col items-center z-10"><i
                                                        class="fa-solid fa-server text-orange-500"></i><span
                                                        class="font-bold text-orange-700">Oracle</span></div>
                                                <div class="flex flex-col items-center z-10"><i
                                                        class="fa-solid fa-server text-orange-500"></i><span
                                                        class="font-bold text-orange-700">ArcStorM</span></div>
                                                <div class="flex flex-col items-center z-10"><i
                                                        class="fa-solid fa-server text-orange-500"></i><span
                                                        class="font-bold text-orange-700">SDE</span></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- 4. Approval -->
                                <div class="relative flex flex-col md:flex-row-reverse items-center">
                                    <div
                                        class="w-full md:w-1/2 flex justify-center md:justify-start md:pl-12 mb-4 md:mb-0">
                                        <div
                                            class="w-20 h-20 bg-emerald-600 rounded-full border-4 border-white flex items-center justify-center z-10 shadow-xl ring-4 ring-emerald-100">
                                            <i
                                                class="fa-solid fa-pen-to-square text-2xl text-white animate-scribble"></i>
                                        </div>
                                    </div>
                                    <div class="w-full md:w-1/2 md:pr-12">
                                        <div
                                            class="bg-white p-5 rounded-xl shadow-lg border-t-8 border-emerald-500 card-hover transition-all duration-300 text-left">
                                            <div class="flex flex-row justify-between items-start mb-2">
                                                <h3 class="text-lg font-bold text-slate-800">4. Updating Official
                                                    Cadaster Data</h3>
                                            </div>
                                            <p class="text-slate-600 mb-3 text-sm">Once the cadaster reviewer decides to
                                                approve the plan, the cadaster editor steps-in and starts updating and
                                                modifying the official cadastral data. The editing is done on a
                                                custom-developed app that supports ESRI's old Coverage file format;
                                                these files are stored in ArcStorM.</p>
                                            <div class="flex flex-col gap-2">
                                                <button
                                                    class="bg-slate-50 text-emerald-700 py-2 px-4 rounded font-semibold text-xs flex items-center justify-start gap-2 border border-emerald-200"><i
                                                        class="fa-solid fa-draw-polygon" style="color: #059669;"></i>
                                                    Official Data Modified</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- NEW LIFECYCLE CONTENT -->
                            <div id="content-new" class="hidden">
                                <!-- 1. Submission -->
                                <div class="relative flex flex-col md:flex-row items-center mb-10 group">
                                    <div
                                        class="w-full md:w-1/2 flex justify-center md:justify-end md:pr-12 mb-4 md:mb-0">
                                        <div
                                            class="w-20 h-20 bg-white rounded-full border-4 border-blue-500 flex items-center justify-center z-10 shadow-lg pulse-ring">
                                            <i
                                                class="fa-solid fa-hard-hat text-2xl text-blue-600 animate-glow-blue"></i>
                                        </div>
                                    </div>
                                    <div class="w-full md:w-1/2 md:pl-12">
                                        <div
                                            class="bg-white p-5 rounded-xl shadow-md border-l-4 border-blue-500 card-hover transition-all duration-300">
                                            <div class="flex justify-between items-start mb-2">
                                                <h3 class="text-lg font-bold text-slate-800">1. Submission</h3>
                                            </div>
                                            <p class="text-slate-600 mb-3 text-sm">Land surveyors from the private
                                                sector submit cadastral plans via Topocad (Generation B), which has been
                                                adjusted to work with the new database schema.</p>
                                            <div class="bg-slate-50 p-3 rounded-lg flex items-center gap-3">
                                                <i class="fa-solid fa-cloud-arrow-up text-blue-400 text-lg"></i>
                                                <div class="text-sm"><span class="block font-semibold">Topocad (Gen
                                                        B)</span><span class="text-xs text-slate-500">Updated Submission
                                                        Platform</span></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- CMS Wrapper -->
                                <div
                                    class="relative border-[12px] border-dashed border-[#F5E427] bg-yellow-50/50 rounded-3xl p-4 md:p-8 my-12 animate-border-fade">
                                    <div
                                        class="absolute -top-7 left-1/2 transform -translate-x-1/2 bg-[#F5E427] text-slate-900 px-6 py-2 rounded-full font-bold text-lg shadow-md whitespace-nowrap">
                                        Cadaster Management System (CMS)</div>
                                    <!-- 2. Review -->
                                    <div class="relative flex flex-col md:flex-row-reverse items-center mb-10 pt-8">
                                        <div
                                            class="w-full md:w-1/2 flex justify-center md:justify-start md:pl-12 mb-4 md:mb-0">
                                            <div
                                                class="w-20 h-20 bg-white rounded-full border-4 border-indigo-500 flex items-center justify-center z-10 shadow-lg relative">
                                                <i class="fa-solid fa-gear fa-spin text-3xl text-indigo-600"></i>
                                            </div>
                                        </div>
                                        <div class="w-full md:w-1/2 md:pr-12">
                                            <div
                                                class="bg-white p-5 rounded-xl shadow-md border-r-4 border-indigo-500 card-hover transition-all duration-300 text-left">
                                                <div class="flex flex-row justify-between items-start mb-2">
                                                    <h3 class="text-lg font-bold text-slate-800">2. Review & Validation
                                                    </h3>
                                                </div>
                                                <p class="text-slate-600 mb-3 text-sm">Reviewers use <strong>Cyclamen
                                                        2</strong> (improved version) for 2D plans, and the new
                                                    <strong>Palm</strong> app for checking 3D cadastral plans. CMS
                                                    facilitates information sharing between all parties.
                                                </p>
                                                <div class="flex flex-col gap-2">
                                                    <div class="bg-slate-50 p-3 rounded-lg flex items-center gap-3"><i
                                                            class="fa-solid fa-list-check" style="color: #B197FC;"></i>
                                                        <div class="text-sm"><span class="block font-semibold">Cyclamen
                                                                2</span><span class="text-xs text-slate-500">Automated
                                                                testing wizard for 2D plans</span></div>
                                                    </div>
                                                    <div class="bg-slate-50 p-3 rounded-lg flex items-center gap-3"><i
                                                            class="fa-solid fa-cube text-indigo-400"></i>
                                                        <div class="text-sm"><span
                                                                class="block font-semibold">Palm</span><span
                                                                class="text-xs text-slate-500">Automated testing wizard
                                                                for 3D Plans</span></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- 3. Conversion -->
                                    <div class="relative flex flex-col md:flex-row items-center mb-10">
                                        <div
                                            class="w-full md:w-1/2 flex justify-center md:justify-end md:pr-12 mb-4 md:mb-0">
                                            <div
                                                class="w-20 h-20 bg-white rounded-full border-4 border-orange-400 flex items-center justify-center z-10 shadow-lg">
                                                <i
                                                    class="fa-solid fa-database text-2xl text-orange-500 animate-glow-yellow"></i>
                                            </div>
                                        </div>
                                        <div class="w-full md:w-1/2 md:pl-12">
                                            <div
                                                class="bg-white p-5 rounded-xl shadow-md border-l-4 border-orange-400 card-hover transition-all duration-300">
                                                <div class="flex justify-between items-start mb-2">
                                                    <h3 class="text-lg font-bold text-slate-800">3. Conversion & Storage
                                                    </h3>
                                                </div>
                                                <div class="flex items-center gap-4 mb-3">
                                                    <div class="text-center"><i
                                                            class="fa-regular fa-file-code text-xl text-blue-900 mb-1"></i>
                                                        <div class="text-xs font-bold text-blue-900">CAD</div>
                                                    </div>
                                                    <i class="fa-solid fa-arrow-right text-black text-sm"></i>
                                                    <div class="text-center"><i
                                                            class="fa-solid fa-globe text-xl text-green-500 mb-1"></i>
                                                        <div class="text-xs font-bold text-green-600">GIS</div>
                                                    </div>
                                                </div>
                                                <p class="text-slate-600 mb-3 text-sm">Converted in-process data is now
                                                    stored alongside the official cadaster data in a <strong>Single
                                                        Unified Database</strong>, rather than distributed files.</p>
                                                <div
                                                    class="bg-slate-50 p-4 rounded-lg flex items-center justify-center gap-4 border border-orange-100">
                                                    <i class="fa-solid fa-server text-3xl text-orange-500"></i><span
                                                        class="font-bold text-orange-800">National Cadaster
                                                        Database</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- 4. Approval -->
                                    <div class="relative flex flex-col md:flex-row-reverse items-center">
                                        <div
                                            class="w-full md:w-1/2 flex justify-center md:justify-start md:pl-12 mb-4 md:mb-0">
                                            <div
                                                class="w-20 h-20 bg-emerald-600 rounded-full border-4 border-white flex items-center justify-center z-10 shadow-xl ring-4 ring-emerald-100">
                                                <i
                                                    class="fa-solid fa-pen-to-square text-2xl text-white animate-scribble"></i>
                                            </div>
                                        </div>
                                        <div class="w-full md:w-1/2 md:pr-12">
                                            <div
                                                class="bg-white p-5 rounded-xl shadow-lg border-t-8 border-emerald-500 card-hover transition-all duration-300 text-left">
                                                <div class="flex flex-row justify-between items-start mb-2">
                                                    <h3 class="text-lg font-bold text-slate-800">4. Updating Official
                                                        Data</h3>
                                                </div>
                                                <p class="text-slate-600 mb-3 text-sm">The cadaster editor uses
                                                    <strong>ArcGIS Pro Tasks, advanced editing tools and Parcel Fabric
                                                        built-in tools</strong> to update and modify official cadster
                                                    features. A vital data evaluation step is integrated within the
                                                    tasks workflow. Upon task completion, feedback is sent back to the
                                                    CMS to close the loop.
                                                </p>
                                                <div class="flex flex-col gap-2">
                                                    <button
                                                        class="bg-slate-50 text-emerald-700 py-2 px-4 rounded font-semibold text-xs flex items-center justify-start gap-2 border border-emerald-200">
                                                        <i class="fa-solid fa-map-location-dot"></i> ArcGIS Pro Tasks
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </main>
                    </div>
                </section>

                <!-- Defining Schema Page -->
                <section id="page-schema" class="page-content hidden">
                    <div class="space-y-10">

                        <div class="p-6 sm:p-10 bg-bg-light rounded-xl shadow-lg border-t-8 border-secondary-accent">
                            <h2 class="text-4xl font-extrabold text-primary-accent">Defining Schema</h2>
                        </div>

                        <div class="p-6 sm:p-8 bg-bg-light rounded-xl border border-gray-200 shadow-lg">
                            <h3 class="text-2xl font-bold text-primary-accent mb-6 border-b border-gray-300 pb-2">Main Principles</h3>
                            <div class="space-y-4 text-text-dark">
                                <ul class="list-disc list-outside ml-5 space-y-3">
                                    <li class="pl-2">
                                        <span class="font-bold">Split the database into three “realms”:
                                            <span class="text-orange-500">In-Process</span>
                                            <span class="font-bold">,
                                                <span class="text-blue-500">Parcel Fabric </span>
                                            </span>
                                            <span class="font-bold"></span> and
                                            <span class="text-green-500">Management tables</span>
                                        </span>
                                        <span class="font-bold">.</span>
                                    </li>
                                    <li class="pl-2">
                                        <span class="font-bold">While the Parcel Fabric comes with a built-in schema we
                                            also considered what information is needed for:</span>
                                        <ol
                                            class="list-decimal list-outside ml-6 mt-2 space-y-1 text-gray-700 font-normal">
                                            <li>Other divisions in the organization (for instance “UpdatedByRecord” field)</li>
                                            <li>Private surveying companies</li>
                                            <li>Other government ministries</li>
                                            <li>Municipalities</li>
                                            <li>The public</li>
                                        </ol>
                                    </li>
                                    <li class="pl-2">
                                        <span class="font-semibold">Reducing the number of tables and domains to
                                            minimize complexity.</span>
                                        <div class="mt-2 p-3 bg-gray-50 border-l-2 border-primary-accent text-sm">
                                            <p class="font-medium">Example:</p>
                                            <p>Both tax parcels (British parcels) and cadastral parcels reside in the same parcel-type feature class, differentiated by a Boolean field.</p>
                                            <p class="mt-1">The same approach is applied to the Blocks feature class.
                                            </p>
                                        </div>
                                    </li>
                                    <li class="pl-2">
                                        <span class="font-semibold">Adding 3D cadastral (Multipatch) Feature Classes</span>,
                                        along with their corresponding 2D projected (Polygon) Feature Classes into the schema.
                                        This allows for visualization on platforms that do not yet support 3D data.
                                        The 3D Parcels, Substractions and 3D Points classes are "disguised" as a Parcel Fabric Features, having the logic of the "record creating/retiring" fields.
                                    </li>
                                    <li class="pl-2 font-bold">
                                        Set fields properties <span
                                            class="font-normal">(Nullables\length\Domains…).</span>
                                    </li>
                                    <li class="pl-2 font-bold">
                                        Indexing necessary fields.
                                    </li>
                                    <li class="pl-2 font-bold">
                                        <a href="https://dbdocs.io/embed/4fec58181bb416f09f8ef0f69433584f/7d300d9cdbc448c789a0495d633c520c"
                                            target="_blank" class="text-secondary-accent hover:underline">Designed a
                                            schema diagram (ERD) using DBML.</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="p-6 sm:p-8 bg-bg-light rounded-xl border border-gray-200 shadow-lg">
                            <h3 class="text-2xl font-bold text-primary-accent mb-6 border-b border-gray-300 pb-2">
                                Geodatabase Structure</h3>
                            <div class="space-y-4 text-text-dark leading-relaxed">
                                <p>
                                    To help visualize, this chart shows how in the same geodatabase we have what we call
                                    the in-process data (in the yellow bubble) and the official cadaster data as (inside
                                    a dataset with Parcel Fabric)
                                </p>
                                <p>
                                    The In-Process data is all of the converted CAD files that been processes and load
                                    by the cadastral reviewer (using Cyclamen\Palm).
                                    This data is not modified by any editor and it’s not under versioning.
                                </p>
                                <p>
                                    The cadaster reviewer can rewrite all of the converted plan data by running again
                                    the Cyclamen\Palm applications.
                                </p>
                                <p>
                                    The official cadaster features can only be modified by the cadaster editor when editing in a branch version.
                                    It contains 2 parcels type: Parcels2D and Blocks.<br/>
                                    The 3D Cadaster tables are part of the parcel fabric dataset (with a similar fields structure) but it’s not being control by the Parcel Fabric.
                                </p>
                                <p>Hover over the table names to view short descriptions of their meanings.</p>
                                <p></p>
                            </div>
                            <iframe src="DataBaseArchitecture.html" style="width:100%; height:1400px; border:none;" loading="lazy"></iframe>

                        </div>
                        <div class="p-6 sm:p-8 bg-bg-light rounded-xl border border-gray-200 shadow-lg">
                            <h3 class="text-2xl font-bold text-primary-accent mb-6 border-b border-gray-300 pb-2">
                                Applying Attribute Rules</h3>
                            <div class="space-y-6 text-text-dark leading-relaxed">
                                <div>
                                    <p>
                                        Because Arcade expressions was new territory for us, we learned by doing a bit of everything:<br/>
                                        sometimes we'd write expressions from scratch, and other times we'd search for useful examples online.
                                    </p>
                                    <p class="text-sm text-black mt-1 italic"> (Only recently LLMs were able to generate valid Arcade expressions)</p>
                                </div>
                                <div>
                                    <h4 class="text-lg font-bold text-gray-800 mb-2">Validation Rules:</h4>
                                    <p>
                                        As for now, we implement 23 validation rules. Most of the rules focus on
                                        ensuring geometric integrity
                                        (self-intersecting or multipart features) and maintaining logical consistency
                                        within the database.
                                    </p>
                                    <p class="mt-2">
                                        For example, several rules enforce uniqueness and sequential parcels numbers within their respective blocks.
                                    </p>
                                </div>
                                <div>
                                    <h4 class="text-lg font-bold text-gray-800 mb-2">Calculation Rules:</h4>
                                    <p>
                                        We also implement 9 calculation rules.
                                        Mostly they include assigning parcels names, extracting coordinate values (X, Y,
                                        Z) from 3D-point geometries and
                                        retrieving GUIDs for related features.
                                    </p>
                                    <p class="mt-2">
                                        Some rules ensure data completeness, for example each block have a an information of it's highest (latest)
                                        active parcel number.
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="flex justify-end mt-10">
                            <a href="#" data-page="etl"
                                class="next-page-link text-secondary-accent font-bold hover:underline flex items-center text-lg transition-transform duration-200 hover:translate-x-2">
                                Next: ETL Pipeline & Integration
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 ml-2" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                                </svg>
                            </a>
                        </div>
                    </div>
                </section>

                <!-- ETL Pipeline Page (WITH INSERTED DIAGRAM) -->
                <section id="page-etl" class="page-content hidden">
                    <div class="space-y-10">
                        <div class="p-6 sm:p-10 bg-bg-light rounded-xl shadow-lg border-t-8 border-secondary-accent">
                            <h2 class="text-4xl font-extrabold text-primary-accent">ETL Pipeline & Data Integration</h2>
                        </div>
                        <div class="p-6 sm:p-8 bg-bg-light rounded-xl border border-gray-200 shadow-lg">
                            <h3 class="text-2xl font-bold text-primary-accent mb-6 border-b border-gray-300 pb-2">
                                Extract, Transform and Load</h3>
                            <div class="space-y-4 text-text-dark leading-relaxed">
                                <p>
                                    We designed and implemented a robust data pipeline to automate the migration process
                                    end to end. The pipeline begins by extracting all relevant tables from the legacy
                                    databases, which operate on a “sealed” operating system. These datasets are then
                                    securely transferred to an open operating system under strict security supervision
                                    to ensure data integrity and compliance.
                                </p>
                                <p>
                                    Once the data is available in the new "open" environment, a series of data
                                    manipulation scripts perform the transformation phase. This includes filtering out
                                    unnecessary or obsolete information, consolidating multiple source tables into
                                    unified datasets, and reshaping the data to align precisely with the new target
                                    schema. Wherever possible, we enriched the data by completing missing values and
                                    records, and by correcting misleading or inconsistent entries identified.
                                </p>
                                <p>
                                    Each transformed table is initially stored in a File Geodatabase (File GDB), which
                                    serves as a controlled staging area for further quality checks. From there, the data
                                    is loaded into a clean enterprise Geodatabase, where we enable branch versioning,
                                    added performance-optimizing indexes, and publish feature services for downstream
                                    applications.
                                </p>
                                <p>
                                    Since the overall modernization effort spanned nearly three years, this pipeline was
                                    executed on a recurring basis—approximately every one to two months—allowing
                                    development and testing to be performed on up-to-date data throughout the project
                                    lifecycle. Upon completion of the full modernization initiative, the pipeline was
                                    executed one final time to produce the authoritative production database.
                                </p>
                            </div>

                            <!-- --- ETL DIAGRAM INSERTED HERE --- -->
                            <div class="mt-8 etl-diagram-wrapper p-6 rounded-2xl border border-gray-300 shadow-inner">
                                <div id="diagram-container" class="relative z-10 pt-4">

                                    <!-- CONNECTION SVG LAYER -->
                                    <svg id="svg-layer"
                                        class="block absolute inset-0 pointer-events-none z-50 overflow-visible w-full h-full">
                                        <defs>
                                            <linearGradient id="connGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                                <stop offset="0%" stop-color="#ef4444" stop-opacity="0.8" />
                                                <stop offset="100%" stop-color="#06b6d4" stop-opacity="0.8" />
                                            </linearGradient>
                                            <linearGradient id="connGradient2" x1="0%" y1="0%" x2="100%" y2="0%">
                                                <stop offset="0%" stop-color="#06b6d4" stop-opacity="0.8" />
                                                <stop offset="100%" stop-color="#10b981" stop-opacity="0.8" />
                                            </linearGradient>
                                        </defs>
                                        <!-- Javascript will inject paths here -->
                                    </svg>

                                    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 mb-4">

                                        <!-- --- ZONE 1: EXTRACTION --- -->
                                        <div class="lg:col-span-3 flex flex-col gap-4">
                                            <div
                                                class="rounded-t-2xl bg-gradient-to-r from-red-500 to-red-600 p-4 text-white shadow-lg shadow-red-900/10 text-center relative z-10">
                                                <div class="flex justify-center items-center gap-2">
                                                    <h2 class="font-bold uppercase tracking-wider text-sm">Extract</h2>
                                                    <i class="fa-solid fa-download opacity-80 text-xl"></i>
                                                </div>
                                                <p class="text-red-100 text-xs mt-1">Older Databases & Sources</p>
                                            </div>

                                            <div
                                                class="bg-white rounded-b-2xl shadow-lg border-x border-b border-red-100 p-4 space-y-3 relative z-10 flex-1">
                                                <div
                                                    class="source-card relative group p-3 rounded-lg border border-red-200 bg-red-50 hover:shadow-md transition-all cursor-default flex items-center gap-3">
                                                    <div
                                                        class="p-2 rounded-md bg-white/80 border border-red-200 shadow-sm">
                                                        <i
                                                            class="fa-solid fa-database w-4 h-4 text-red-800 flex justify-center items-center"></i>
                                                    </div>
                                                    <div>
                                                        <h3 class="font-bold text-slate-800 text-sm">Oracle</h3>
                                                        <p class="text-[10px] text-slate-500 font-medium">Tabular |
                                                            General information</p>
                                                    </div>
                                                </div>
                                                <div
                                                    class="source-card relative group p-3 rounded-lg border border-red-200 bg-red-50 hover:shadow-md transition-all cursor-default flex items-center gap-3">
                                                    <div
                                                        class="p-2 rounded-md bg-white/80 border border-red-200 shadow-sm">
                                                        <i
                                                            class="fa-solid fa-map w-4 h-4 text-red-600 flex justify-center items-center"></i>
                                                    </div>
                                                    <div>
                                                        <h3 class="font-bold text-slate-800 text-sm">ArcStorM</h3>
                                                        <p class="text-[10px] text-slate-500 font-medium">Geographical |
                                                            Active Cadaster</p>
                                                    </div>
                                                </div>
                                                <div
                                                    class="source-card relative group p-3 rounded-lg border border-red-200 bg-red-50 hover:shadow-md transition-all cursor-default flex items-center gap-3">
                                                    <div
                                                        class="p-2 rounded-md bg-white/80 border border-red-200 shadow-sm">
                                                        <i
                                                            class="fa-solid fa-globe w-4 h-4 text-red-800 flex justify-center items-center"></i>
                                                    </div>
                                                    <div>
                                                        <h3 class="font-bold text-slate-800 text-sm">CadSDE</h3>
                                                        <p class="text-[10px] text-slate-500 font-medium">Geographical |
                                                            In-Process Data</p>
                                                    </div>
                                                </div>
                                                <div
                                                    class="source-card relative group p-3 rounded-lg border border-rose-200 bg-rose-50 hover:shadow-md transition-all cursor-default flex items-center gap-3">
                                                    <div
                                                        class="p-2 rounded-md bg-white/80 border border-rose-200 shadow-sm">
                                                        <i
                                                            class="fa-solid fa-file-csv w-4 h-4 text-rose-500 flex justify-center items-center"></i>
                                                    </div>
                                                    <div>
                                                        <h3 class="font-bold text-slate-800 text-sm">Files/API</h3>
                                                        <p class="text-[10px] text-slate-500 font-medium">Tabular &
                                                            Geographical | Misc Sources</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- --- ZONE 2: TRANSFORMATION --- -->
                                        <div class="lg:col-span-6 flex flex-col gap-4">
                                            <div
                                                class="rounded-t-2xl bg-gradient-to-r from-cyan-500 to-blue-600 p-4 text-white shadow-lg shadow-cyan-900/10 text-center relative z-10">
                                                <div class="flex justify-center items-center gap-2">
                                                    <h2 class="font-bold uppercase tracking-wider text-sm">Transform
                                                    </h2>
                                                    <i class="fa-solid fa-microchip opacity-80 text-xl"></i>
                                                </div>
                                                <p class="text-cyan-50 text-xs mt-1">Convert older data structure to the
                                                    new schema</p>
                                            </div>

                                            <div
                                                class="flex-1 bg-white rounded-b-2xl shadow-lg border-x border-b border-cyan-200 p-6 relative transition-all duration-500 z-10 hover:shadow-xl hover:ring-2 hover:ring-cyan-100">
                                                <div
                                                    class="absolute inset-0 overflow-hidden rounded-b-2xl pointer-events-none z-0">
                                                    <div
                                                        class="absolute top-0 right-0 w-32 h-32 bg-cyan-50 rounded-full blur-3xl -mr-16 -mt-16">
                                                    </div>
                                                </div>

                                                <!-- Python Header -->
                                                <div
                                                    class="relative z-10 flex flex-col items-center text-center gap-4 mb-8">
                                                    <div
                                                        class="bg-cyan-100 text-cyan-700 p-3 rounded-xl border border-cyan-200 mt-1">
                                                        <!-- Python Icon -->
                                                        <img src="https://upload.wikimedia.org/wikipedia/commons/c/c3/Python-logo-notext.svg"
                                                            alt="Python Logo" class="w-7 h-7">
                                                    </div>
                                                    <div class="flex-1 w-full">
                                                        <h3 class="text-lg font-bold text-slate-800">Python Scripts</h3>
                                                        <div class="flex flex-wrap justify-center gap-2 mt-2"
                                                            id="libraries-container">
                                                            <!-- Libraries injected via JS or static HTML -->
                                                            <div
                                                                class="group relative text-xs font-mono px-2 py-0.5 rounded cursor-help bg-slate-100 text-slate-500">
                                                                Numpy
                                                                <div
                                                                    class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-slate-800 text-white text-[10px] rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50">
                                                                    Scientific computing & array processing<div
                                                                        class="absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 border-4 border-transparent border-t-slate-800">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div
                                                                class="group relative text-xs font-mono px-2 py-0.5 rounded cursor-help bg-slate-100 text-slate-500">
                                                                Pandas
                                                                <div
                                                                    class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-slate-800 text-white text-[10px] rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50">
                                                                    Data manipulation & analysis<div
                                                                        class="absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 border-4 border-transparent border-t-slate-800">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div
                                                                class="group relative text-xs font-mono px-2 py-0.5 rounded cursor-help bg-slate-100 text-slate-500">
                                                                Polars
                                                                <div
                                                                    class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-slate-800 text-white text-[10px] rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50">
                                                                    High-performance DataFrames<div
                                                                        class="absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 border-4 border-transparent border-t-slate-800">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div
                                                                class="group relative text-xs font-mono px-2 py-0.5 rounded cursor-help bg-slate-100 text-slate-500">
                                                                Geopandas
                                                                <div
                                                                    class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-slate-800 text-white text-[10px] rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50">
                                                                    Spatial data operations<div
                                                                        class="absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 border-4 border-transparent border-t-slate-800">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div
                                                                class="group relative text-xs font-mono px-2 py-0.5 rounded cursor-help bg-slate-100 text-slate-500">
                                                                Shapely
                                                                <div
                                                                    class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-slate-800 text-white text-[10px] rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50">
                                                                    Geometric manipulation<div
                                                                        class="absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 border-4 border-transparent border-t-slate-800">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div
                                                                class="group relative text-xs font-mono px-2 py-0.5 rounded cursor-help bg-slate-100 text-slate-500">
                                                                Dask-Geopandas
                                                                <div
                                                                    class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-slate-800 text-white text-[10px] rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50">
                                                                    Parallel geospatial processing<div
                                                                        class="absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 border-4 border-transparent border-t-slate-800">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div
                                                                class="group relative text-xs font-mono px-2 py-0.5 rounded cursor-help bg-cyan-100 text-cyan-700 border border-cyan-200">
                                                                ArcPy
                                                                <div
                                                                    class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-slate-800 text-white text-[10px] rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50">
                                                                    Esri proprietary spatial analysis<div
                                                                        class="absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 border-4 border-transparent border-t-slate-800">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Flow Badges -->
                                                <div class="relative z-10 grid grid-cols-4 gap-2 mb-8">

                                                    <div class="flex flex-col items-center group">
                                                        <div id="badge-read"
                                                            class="w-10 h-10 rounded-full bg-blue-50 border border-blue-100 flex items-center justify-center mb-2 relative z-20 bg-white animate-badge"
                                                            style="animation-delay: 0s;">
                                                            <i class="fa-solid fa-file-import text-blue-600"></i>
                                                        </div>
                                                        <span
                                                            class="text-xs font-bold text-black tracking-wide">Read</span>
                                                    </div>

                                                    <div class="flex flex-col items-center group">
                                                        <div class="w-10 h-10 rounded-full bg-blue-50 border border-blue-100 flex items-center justify-center mb-2 relative z-20 bg-white animate-badge"
                                                            style="animation-delay: 1s;">
                                                            <i class="fa-solid fa-broom text-blue-600"></i>
                                                        </div>
                                                        <span class="text-xs font-bold text-black tracking-wide">Clean &
                                                            Filter</span>
                                                    </div>

                                                    <div class="flex flex-col items-center group">
                                                        <div class="w-10 h-10 rounded-full bg-blue-50 border border-blue-100 flex items-center justify-center mb-2 relative z-20 bg-white animate-badge"
                                                            style="animation-delay: 2s;">
                                                            <i
                                                                class="fa-solid fa-code-branch text-blue-600 text-sm"></i>
                                                        </div>
                                                        <span class="text-xs font-bold text-black tracking-wide">Merge &
                                                            Join</span>
                                                    </div>

                                                    <div class="flex flex-col items-center group">
                                                        <div id="badge-fix"
                                                            class="w-10 h-10 rounded-full bg-blue-50 border border-blue-100 flex items-center justify-center mb-2 relative z-20 bg-white animate-badge"
                                                            style="animation-delay: 3s;">
                                                            <i class="fa-solid fa-bolt text-blue-600 text-sm"></i>
                                                        </div>
                                                        <span class="text-xs font-bold text-black tracking-wide">Fix &
                                                            Enrich</span>
                                                    </div>

                                                    <!-- Straight Line + Animated Point -->
                                                    <div
                                                        class="absolute top-5 left-10 right-10 h-0.5 bg-blue-100 -z-10">
                                                        <div
                                                            class="absolute top-1/2 left-0 w-2.5 h-2.5 bg-blue-500 rounded-full transform -translate-y-1/2 -translate-x-1/2 shadow-lg shadow-blue-500/50 animate-flow-point">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- --- ZONE 3: LOAD & MANAGEMENT --- -->
                                        <div class="lg:col-span-3 flex flex-col gap-4">
                                            <div
                                                class="rounded-t-2xl bg-gradient-to-r from-emerald-600 to-green-700 p-4 text-white shadow-lg shadow-emerald-900/10 text-center relative z-10">
                                                <div class="flex justify-center items-center gap-2">
                                                    <h2 class="font-bold uppercase tracking-wider text-sm">Load</h2>
                                                    <i class="fa-solid fa-upload opacity-80 text-xl"></i>
                                                </div>
                                                <p class="text-emerald-100 text-xs mt-1">Lading the transformed data</p>
                                            </div>

                                            <div
                                                class="bg-white rounded-b-2xl shadow-lg border-x border-b border-emerald-100 p-4 flex flex-col gap-3 relative z-10 flex-1">

                                                <div id="file-gdb-card"
                                                    class="bg-emerald-50 border border-emerald-100 p-3 rounded-lg flex items-center gap-3">
                                                    <div class="bg-white p-2 rounded text-emerald-600 shadow-sm">
                                                        <i
                                                            class="fa-solid fa-database w-4 h-4 flex justify-center items-center"></i>
                                                    </div>
                                                    <div>
                                                        <div class="font-bold text-slate-700 text-sm">File GDB</div>
                                                    </div>
                                                </div>

                                                <div class="flex justify-center -my-1">
                                                    <i
                                                        class="fa-solid fa-arrow-down w-6 h-6 text-emerald-700 animate-bounce stroke-[3]"></i>
                                                </div>

                                                <div
                                                    class="bg-emerald-50 border border-emerald-100 p-3 rounded-lg flex items-center gap-3">
                                                    <div class="bg-white p-2 rounded text-emerald-600 shadow-sm">
                                                        <img src="https://img.icons8.com/?size=100&id=laYYF3dV0Iew&format=png&color=000000"
                                                            alt="SQL Server" class="w-5 h-5">
                                                    </div>
                                                    <div>
                                                        <div class="font-bold text-slate-700 text-sm">Enterprise GDB on
                                                            SQL Server (on-premise)</div>
                                                    </div>
                                                </div>

                                                <div class="mt-2 pt-3 border-t border-slate-100">
                                                    <h4 class="text-[10px] font-bold text-slate-400 uppercase mb-2">
                                                        Finishing Actions</h4>
                                                    <div class="space-y-2">
                                                        <div class="flex items-center gap-2 text-xs text-slate-600">
                                                            <i class="fa-solid fa-square-check text-emerald-500"></i>
                                                            <span>Assign Attribute Rules</span>
                                                        </div>
                                                        <div class="flex items-center gap-2 text-xs text-slate-600">
                                                            <i class="fa-solid fa-square-check text-emerald-500"></i>
                                                            <span>Add necessary indexes</span>
                                                        </div>
                                                        <div class="flex items-center gap-2 text-xs text-slate-600">
                                                            <i class="fa-solid fa-square-check text-emerald-500"></i>
                                                            <span>Recalculate Feature Clasess extents</span>
                                                        </div>
                                                        <div class="flex items-center gap-2 text-xs text-slate-600">
                                                            <i class="fa-solid fa-square-check text-emerald-500"></i>
                                                            <span>Set dataset content to be versioned</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="flex justify-end mt-10">
                            <a href="#" data-page="tasks"
                                class="next-page-link text-secondary-accent font-bold hover:underline flex items-center text-lg transition-transform duration-200 hover:translate-x-2">
                                Next: Official Data Editing
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 ml-2" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                                </svg>
                            </a>
                        </div>
                    </div>
                </section>

                <!-- Official Data Editing Page -->
                <section id="page-tasks" class="page-content hidden">
                    <div class="space-y-10">
                        <div class="p-6 sm:p-10 bg-bg-light rounded-xl shadow-lg border-t-8 border-secondary-accent">
                            <h2 class="text-4xl font-extrabold text-primary-accent">Official Data Editing</h2>
                        </div>
                        <div class="p-6 sm:p-8 bg-bg-light rounded-xl border border-gray-200 shadow-lg">
                            <h3 class="text-2xl font-bold text-primary-accent mb-6 border-b border-gray-300 pb-2">
                                Preparing Editing Environment with ArcGIS Pro</h3>
                            <div class="text-text-dark leading-relaxed">
                                <p class="mb-4 space-y-1">We created a template APRX file with a map and a scene, which includes:</p>
                                <ul class="list-disc list-outside ml-6 space-y-1">
                                    <li>Default definition queries for the layers.</li>
                                    <li>Symbology & labels</li>
                                    <li>Pop-ups configurations</li>
                                    <li>Scales dependencies (labels & layer visualization)</li>
                                    <li>Hiding nonessential fields</li>
                                </ul>
                            </div>
                            <div class="mt-8 flex flex-col items-center space-y-4 text-center w-full">
                                <a href="https://raw.githubusercontent.com/OfirMazor/National-Cadaster-Project-Site/main/figures/Map%26Scene.png"
                                    target="_blank" rel="noopener noreferrer">
                                    <img src="https://raw.githubusercontent.com/OfirMazor/National-Cadaster-Project-Site/main/figures/Map%26Scene.png"
                                        alt="ArcGIS Pro Map and Scene Template Visualization"
                                        class="w-full h-auto rounded-lg shadow-xl"
                                        onerror="this.onerror=null; this.src='https://placehold.co/800x400/808080/FFFFFF?text=Map+and+Scene+Image+Failed+to+Load';">
                                </a>
                            </div>
                            <p class="mt-6 text-text-dark leading-relaxed">
                                This template APRX is used by automated workflows, serving as the starting point for
                                cadastral editors when initiating their record-editing tasks (described below). It helps
                                streamline work by preserving predefined GIS settings and reducing setup time in ArcGIS
                                Pro.
                            </p>
                        </div>

                        <!-- Designing Editing Workflow with Tasks -->
                        <div class="p-6 sm:p-8 bg-bg-light rounded-xl border border-gray-200 shadow-lg">
                            <h3 class="text-2xl font-bold text-primary-accent mb-6 border-b border-gray-300 pb-2">
                                Designing Editing Workflow with ArcGIS Tasks</h3>
                            <p>ArcGIS Tasks are a wizardy workflow within ArcGIS Pro. It helps users do their work in a step-by-step session.
                               Why we found Tasks to fit our needs?</p>
                            <ul class="list-disc list-outside ml-6 space-y-2">
                                <p>
                                    <li>Split the edit workflow into small parts.</li>
                                    <li>Controlled order: e follow steps in the right order, so they don’t miss anything.</li>
                                    <li>Simple inputs: Only ask for a little info at a time, so it’s not confusing.</li>
                                    <li>User friendly: have “Next”, “Previous”, “Skip” and “Finish” buttons.</li>
                                    <li>Best practice for begginers.</li>
                                    <li>Flexible: Users are not restricted to the current step’s designated tool, they have the freedom to select any tool that meets their specific needs.</li>
                                </p><br></ul>
                             
                            <p>In the Israeli cadaster, there are about 15 different types of cadastral plans (record types). Instead of creating a separate task for each type, we grouped them into five general tasks..</br>
                               How we did it? We treated the term “record” as a combination of inputs and outputs (like an equation).</br>
                               The inputs include features from the in-process data and the types of actions performed on the land by the cadastral plan.</br>
                               The outputs are the updated cadastral features, including both active and retired features.
                            </p>

                                <p class="font-semibold mt-2">For example:</p>
                                <ul class="list-disc list-outside ml-6 space-y-2">
                                    <li>
                                        Some plans keep the same input parcels but improve their boundaries to be more
                                        accurate. For these, we created the <span class="font-semibold">“Improve Current
                                            Cadaster”</span> task.
                                    </li>
                                    <li>
                                        Other plans will retire the input parcels and create new ones in their place.
                                        Hence, we created the <span class="font-semibold">“Retire & Create
                                            Cadaster”</span> task.
                                    </li>
                                </ul>
                                <p class="mt-2 text-sm italic text-gray-600 bg-gray-50 p-2 border-l-4 border-gray-300 rounded-r">
                                        <span class="font-regular">These first two tasks are the most common ones that we will use. There’s also a version of the “Retire & Create Cadaster” task for 3D plans.</span>
                                    </p>
                                <ul class="list-disc list-outside ml-6 space-y-2 mt-2">
                                    <li>
                                        Moreover, some plans don’t have any input parcels and simply create new ones
                                        from scratch. These will be handled by the <span class="font-semibold">“Create
                                            New Cadaster”</span> task.
                                    </li>
                                    <li>
                                        Finally, we also added a <span class="font-semibold">“Free Edit”</span> task for
                                        changes that aren’t tied to a specific cadaster plan - like fixing typos,
                                        correcting overlaps, closing gaps and so on...
                                    </li>
                                </ul>

                                <iframe src="RecordDrivenTask.html" style="width:100%; height:725px; border:none;" loading="lazy"></iframe>

                                <p class="leading-snug space-y-1">
                                    Overall, all of the tasks (except the Free Edit task) follow a similar structure of steps but has differences in their tools.<br>
                                    Each step relies on a Python (ArcPy) script that integrates Parcel Fabric tools and commands with other ArcGIS geoprocessing tools.<br>
                                    These scripts orchestrate the required operations behind the scenes, allowing multiple tools to work together in a single, automated workflow.<br>
                                    The Python code enables these scripts to be executed as customized geoprocessing tools, which can later be exposed and reused as individual steps within an ArcGIS Task.<br>
                                    By combining Parcel Fabric–specific functionality with general geoprocessing capabilities, each step ensures consistent execution, reduces manual effort, and maintains data integrity throughout the process.<br>

                                    <iframe src="FusedLogo.html" style="width:100%; height:450px; border:none;" loading="lazy"></iframe>

                                </p>

                                <!-- Step 1 -->
                                <div>
                                    <p class="leading-snug space-y-1"> <br> Here is a detailed overview of a typical task and the steps actions: <br> </p>
                                    <p class="font-bold text-lg text-primary-accent mb-2"> <br> Step 1: Start Record Editing </p>
                                    <p class="mb-2">
                                        The first step is fully automated, it requeries the name of the record as a parameter and then it prepares the data and the map for editing:
                                    </p>
                                    <ul class="list-disc list-outside ml-6 space-y-1">
                                        <li>It begins with an early and quick validations to ensure the editor doesn’t start working with incorrect data.<br>
                                            For example, verify that the editor is signed-in to the organization portal and that the cadastral plan status is approved by the reviewer.</li>
                                        <li>It then creates a new branch version and transfers the Parcel Fabric layers to it.</li>
                                        <li>Later, the layers of the map are filtered to the area  of interest (the are of the plan and it's surrounded features) by assigning definition queries.</li>
                                        <li>The plan’s boundary is added to the Records layer and that new record is activated.</li>
                                        <li><p class="mt-2 text-sm italic text-orange-600 bg-gray-50 p-2 border-l-4 border-gray-300 rounded-r">In "Retire And Create" task type this step will also automatic retire the input parcels and lines and add the new parcels and lines from the plan data.</p></li>
                                        <li>Finally, this step compute a report of any conflicts between the plan points (source points) and the active fabric points.<br>
                                            The conflict report is intended to assist the editor in the next step by suggesting an optimal distance to use in the second step, helping to avoid conflicts.<br>
                                            This action is optional.</li>
                                    </ul>
                                </div>
                                <!-- Step 2 -->
                                <div>
                                    <p class="font-bold text-lg text-primary-accent mb-2"> <br> Step 2: Import or Modify Points</p>
                                    <p class="mb-2 space-y-1">
                                        In the second step, we use a costume version of the
                                        <a href="https://pro.arcgis.com/en/pro-app/latest/tool-reference/parcel/import-parcel-points.htm"
                                           target="_blank" rel="noopener noreferrer"
                                           style="color: blue; text-decoration: underline;">
                                            Import Parcel Fabric Points (IPFP)
                                        </a>
                                        GP tool.<br>
                                        The IPFP tool is a built in Parcel Fabric tool that aligns the active points according to the points from the plan (aka source points) by moving them to the correct locations (like a magnet does).<br>
                                        If it necessary, new points can be created (imported) to match the points from the plan.<br>
                                        As the points move, the related parcel, blocks and lines move accordingly.In other words, the points are the "glue" that keeps the cadastral features connected.<br>
                                    </p>

                                    <p class="mb-2 font-bold text-gray-800">We customized this tool to improve efficiency by implementing the following enhancements:</p>

                                    <div class="space-y-4 ml-1">

                                        <!-- a -->
                                        <div class="ml-4">
                                            <p class="font-semibold text-gray-800">a. Automated parameter handling</p>
                                            <p class="mt-1 pl-4 leading-none">
                                                Tool parameter values are filled automatically and hidden from the user interface. For example:
                                            </p>
                                            <ul class="list-disc list-outside ml-10 mt-1 leading-none space-y-0 text-text-dark">
                                                <li>Instead of manually entering the record name, the tool retrieves the currently active record name using CIM.</li>
                                                <li>The Proximity Matching method is set as a fixed (constant) option.</li>
                                                <li>The command is restricted to run only on active points by applying a constant query.</li>
                                            </ul>
                                        </div>

                                        <!-- b -->
                                        <div class="ml-4">
                                            <p class="font-semibold text-gray-800">b. Visual conflicts representation</p>
                                            <p class="mt-1 pl-4 leading-none">
                                                When conflicts are detected, the tool automatically generates red ring-shaped polygons on the map,
                                                rather than outputting the results to a database table.<br>
                                                The polygon radius is defined by the tool’s search distance parameter, allowing editors to quickly and visually identify conflict locations.
                                            </p>
                                        </div>

                                        <!-- c -->
                                        <div class="ml-4">
                                            <p class="font-semibold text-gray-800">c. Structured logging output</p>
                                            <p class="mt-1 pl-4 leading-none">
                                                The tool’s log messages were customized to be displayed in a tabular format,
                                                making the results easier to read and interpret for editors.
                                            </p>
                                        </div>

                                    </div>
                                </div>

                                <!-- Step 3 -->
                                <div>
                                    <p class="font-bold text-lg text-primary-accent mb-2"> <br> Step 3: Update Attributes</p>
                                    <p class="mb-2 space-y-1">
                                        Next, once all of the active features are aligned with all the plan features:<br>
                                        The tool here will automatically update the active layers attributes based on the plan data.<br>
                                        This action is very similiar to the <a href="https://pro.arcgis.com/en/pro-app/latest/tool-reference/parcel/import-parcel-points.htm"target="_blank" rel="noopener noreferrer"style="color: blue; text-decoration: underline;">Transfer Attributes editing tool</a> but as automatic method.<br>
                                        For instance, the old land designation of a parcel is replaced with the newer land designation.</br>
                                        This step will also run the Build Active command if the editor set this parameter on.
                                    </p>
                                </div>
                                <!-- Step 4 -->
                                <div>
                                    <p class="font-bold text-lg text-primary-accent mb-2"> <br> Step 4: Evaluation</p>
                                     <p class="mb-2 space-y-1">
                                        This crucial step provide a set of post-edit evaluation tests on the features in the map.<br>
                                        The editor can choose to run all tests or only specific ones.<br>
                                        Additionally, the editor can choose whether the selected evaluations run on the entire area of interest, the record extent, or the current visible camera extent.<br>
                                        This flexible option is especially useful for handling large, complex records or areas with a high density of errors.<br>
                                        The goal here is to ensure there are no errors within the edited area.<br>
                                        Theeditor can rerun these evaluations as many times as needed before proceeding to the final step.
                                    <p class="mt-4 font-semibold text-gray-800">
                                        The evaluation step can be considered as a collection of (mostly built-in) tools that evaluate or track:
                                    </p>
                                    <ul class="list-disc list-outside ml-6 mt-2 space-y-1 text-text-dark pl-4 leading-none">
                                        <li>Validation attribute rules</li>
                                        <li>Topology rules</li>
                                        <li>Adjacent active points</li>
                                        <li>Disconnected active points</li>
                                        <li>Gaps & Overlaps</li>
                                        <li>Stated vs. calculated area bias</li>
                                        <li>Volumetric overlaps (for 3D parcels and their subtractions).</li>
                                    </ul>
                                </div>
                                <!-- Step 5 -->
                                <div>
                                    <p class="font-bold text-lg text-primary-accent mb-2"> <br> Step 5: Completion</p>
                                    <p class="mb-2">
                                        Finally, once all the errors are cleared, step number 5 will:
                                    </p>
                                    <ul class="list-disc list-outside ml-6 space-y-1">
                                        <li>Document the changes applied in the branch version (using the Version Manager service).</li>
                                        <li>Perform reconcile & post to the edit version towards the default version.</li>
                                        <li>Send feedback to the Cadaster Management System to confirm that the task is completed.</li>
                                    </ul>
                                    <br><br>
                                </div>

                                <!--Task Design diagram-->
                                <iframe src="TaskDesign.html" style="width:100%; height:825px; border:none;"loading="lazy"></iframe>

                                <div class="mt-6 pt-4 border-t border-gray-200">
                                    <p class="font-bold text-lg text-primary-accent mb-2">Summary</p>
                                    <p class="mb-2 space-y-1">
                                        This task structure supports an almost fully automated workflow, where most of the hands-on editing occurs in the second step.<br>
                                        In this step, active points need to be aligned with the source points.<br>
                                        The time required to complete this step mainly depends on the editor’s experience, the number of points to update, and their density within the area.<br>
                                        Another time-consuming part of the process is the Evaluation step.<br>
                                        The duration of this step depends on the editor’s experience, the number of errors found during editing, and any existing errors present before the current record editing.<br>
                                        The code and files for these tasks are available to download via the <a href="https://ofirmazor.github.io/National-Cadaster-Tasks/" target="_blank" rel="noopener noreferrer"style="color: blue; text-decoration: underline;"> tasks project page </a> or via <a href="https://github.com/OfirMazor/National-Cadaster-Tasks" target="_blank" rel="noopener noreferrer"style="color: blue; text-decoration: underline;"> Github </a>.
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="flex justify-end mt-10">
                            <a href="#" data-page="challenges"
                                class="next-page-link text-secondary-accent font-bold hover:underline flex items-center text-lg transition-transform duration-200 hover:translate-x-2">
                                Next: Challenges
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 ml-2" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                                </svg>
                            </a>
                        </div>
                    </div>
                </section>

                <!-- Challenges Page -->
                <section id="page-challenges" class="page-content hidden">
                    <div class="p-6 sm:p-10 bg-bg-light rounded-xl shadow-lg border-t-8 border-secondary-accent">
                        <h2 class="text-4xl font-extrabold text-primary-accent">Challenges</h2>
                    </div>
                    <div class="space-y-6 mt-10">
                        <div class="p-6 sm:p-8 bg-bg-light rounded-xl border border-gray-200 shadow-lg">
                            <iframe src="Challanges.html" style="width:100%; height:800px; border:none;" loading="lazy"></iframe>
                        </div>
                    </div>

                    <div class="flex justify-end mt-10">
                        <a href="#" data-page="next" class="next-page-link text-secondary-accent font-bold hover:underline flex items-center text-lg transition-transform duration-200 hover:translate-x-2">
                                Next: What's Next?
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 ml-2" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                                </svg>
                            </a>
                        </div>
                </section>

                <!-- What's Next Page -->
                <section id="page-next" class="page-content hidden">
                    <div class="p-6 sm:p-10 bg-bg-light rounded-xl shadow-lg border-t-8 border-secondary-accent">
                        <h2 class="text-4xl font-extrabold text-primary-accent mb-4">What's Next?</h2>
                    </div>

                    <div class="mt-10 p-6 sm:p-8 bg-bg-light rounded-xl border border-gray-200 shadow-lg">
                        <p class="mb-4 space-y-1">Looking ahead, our roadmap focuses on strengthening the system’s foundation while expanding its capabilities and accessibility.<br>
                                                  The following diagram outline our next strategic steps and ideas.<br>
                        </p>
                        <iframe src="WhatsNext.html" style="width:100%; height:1000px; border:none;" loading="lazy"></iframe>
                    </div>
                </section>

                <!-- Reach Out Page -->
                <section id="page-ReachOut" class="page-content hidden">
                    <div class="p-6 sm:p-10 bg-bg-light rounded-xl shadow-lg border-t-8 border-secondary-accent">
                        <h2 class="text-4xl font-extrabold text-primary-accent">Reach Out</h2>
                    </div>

                    <div class="space-y-6 mt-10">
                        <div class="p-6 sm:p-8 bg-bg-light rounded-xl border border-gray-200 shadow-lg text-text-dark leading-relaxed">
                            <h3 class="text-2xl font-bold text-primary-accent mb-6 border-b border-gray-300 pb-2">More Than Just a Project</h3>
                            
                            <p class="mb-4">
                                This site that I built is my way of documenting the miles we have traveled. I didn’t want to just tell about a polished final product. I wanted to share the behind-the-scenes reality, the breakthroughs and the long road it took to bring this vision to life.
                            </p>

                            <p class="mb-6">
                                I’m opening up this because I believe the best way we grow is by sharing the "raw" parts of our work, not just the highlights.
                            </p>

                            <div class="mb-8">
                                <h4 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                                    Why I'm Sharing This?
                                </h4>
                                <ul class="space-y-4 ml-2">
                                    <li class="flex gap-3">
                                        <span class="text-secondary-accent font-bold">•</span>
                                        <div>
                                            <span class="font-bold">The "Real Talk" on Lessons Learned:</span> I’ve documented the wins, but more importantly, the mistakes. I want to help you skip the "what not to do" phase and get straight to the "what works."
                                        </div>
                                    </li>
                                    <li class="flex gap-3">
                                        <span class="text-secondary-accent font-bold">•</span>
                                        <div>
                                            <span class="font-bold">Refining the Craft:</span> No system is ever truly finished. If you’ve managed a similar project, I’d love to trade notes. Your perspective could be the missing piece that helps me improve the systems we have built here.
                                        </div>
                                    </li>
                                    <li class="flex gap-3">
                                        <span class="text-secondary-accent font-bold">•</span>
                                        <div>
                                            <span class="font-bold">Modernization is a Shared Challenge:</span> If your organization is staring down a massive GIS modernization project (not necessary in parcels and land management domain), I know how daunting that feels. Whether you want to dive deep into the topics I’ve raised here or just need a sounding board for your own strategy, feel free to connect.
                                        </div>
                                    </li>
									<li class="flex gap-3">
                                        <span class="text-secondary-accent font-bold">•</span>
                                        <div>
                                            <span class="font-bold">Did this spark something for you?</span> Sometimes, seeing how someone else solved a problem is the exact "aha!" moment we need. If this project gave you a new idea or reminded you of a challenge in your own journey, I’d truly love to hear about it.
                                        </div>
                                    </li>
                                </ul>
                            </div>

                            <div class="mt-10 pt-8 border-t border-gray-200">
                                <h4 class="text-xl font-bold text-primary-accent mb-4">Contact Me</h4>

                                <div class="flex flex-col sm:flex-row gap-6">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600">
                                            <i class="fa-brands fa-linkedin-in"></i>
                                        </div>
                                        <div>
                                            <p class="text-xs font-bold text-gray-500 uppercase">LinkedIn</p>
                                            <a href="https://www.linkedin.com/in/ofir-mazor/" target="_blank" class="text-secondary-accent font-semibold hover:underline">My Page</a>
                                        </div>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center text-orange-600">
                                            <i class="fa-solid fa-envelope"></i>
                                        </div>
                                        <div>
                                            <p class="text-xs font-bold text-gray-500 uppercase">Email</p>
                                            <a href="mailto:ofir@mapi.gov.il" class="text-secondary-accent font-semibold hover:underline">ofir@mapi.gov.il</a>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-10 pt-8 border-t border-gray-200">
                                <h4 class="text-xl font-bold text-primary-accent mb-4">Contact the Survey of Israel</h4>

                                <div class="flex flex-col sm:flex-row gap-6">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600">
                                            <i class="fa-brands fa-linkedin-in"></i>
                                        </div>
                                        <div>
                                            <p class="text-xs font-bold text-gray-500 uppercase">LinkedIn</p>
                                            <a href="https://www.linkedin.com/company/mapigovil" target="_blank" class="text-secondary-accent font-semibold hover:underline">Organization Page</a>
                                        </div>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center text-orange-600">
                                            <i class="fa-solid fa-envelope"></i>
                                        </div>
                                        <div>
                                            <p class="text-xs font-bold text-gray-500 uppercase">Email</p>
                                            <a href="mailto:service@mapi.gov.il" class="text-secondary-accent font-semibold hover:underline">service@mapi.gov.il</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

            </div>
        </main>
    </div>

    <script>
        // --- ETL DIAGRAM LOGIC (MERGED) ---
        function updateETLPaths() {
            // Main containers
            const container = document.getElementById('diagram-container');
            const svgLayer = document.getElementById('svg-layer');

            // Elements to connect
            const sourceCards = document.querySelectorAll('.source-card'); // The 4 source boxes
            const readBadge = document.getElementById('badge-read');       // The target in Transform
            const fixEnrichBadge = document.getElementById('badge-fix');   // The source in Transform
            const fileGdbCard = document.getElementById('file-gdb-card');  // The target in Load

            // Only run if elements exist and are visible (container has width)
            if (!container || !readBadge || !svgLayer) return;
            // if (container.offsetParent === null) return; // Hidden

            const containerRect = container.getBoundingClientRect();

            // --- PREPARE SVG DEFS & GRADIENTS ---
            let svgContent = `
                <defs>
                    <linearGradient id="connGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" stop-color="#ef4444" stop-opacity="0.8" />
                        <stop offset="100%" stop-color="#06b6d4" stop-opacity="0.8" />
                    </linearGradient>
                    <linearGradient id="connGradient2" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" stop-color="#06b6d4" stop-opacity="0.8" />
                        <stop offset="100%" stop-color="#10b981" stop-opacity="0.8" />
                    </linearGradient>
                </defs>
            `;

            // --- 1. Draw paths from Sources (Left) to Read Badge (Center) ---
            const readRect = readBadge.getBoundingClientRect();
            // Point: Left edge, vertically centered
            const endX = readRect.left - containerRect.left;
            const endY = readRect.top - containerRect.top + (readRect.height / 2);

            sourceCards.forEach(card => {
                const sourceRect = card.getBoundingClientRect();
                // Start Point: Right edge, vertically centered
                const startX = sourceRect.right - containerRect.left;
                const startY = sourceRect.top - containerRect.top + (sourceRect.height / 2);

                // Bezier Control Points for smooth S-curve
                const cp1X = startX + 60; // Pull right from start
                const cp1Y = startY;
                const cp2X = endX - 60;   // Pull left from end
                const cp2Y = endY;

                // Generate Path String
                const d = `M ${startX} ${startY} C ${cp1X} ${cp1Y}, ${cp2X} ${cp2Y}, ${endX} ${endY}`;

                // Append path string to SVG content with dash animation class
                svgContent += `<path d="${d}" fill="none" stroke="url(#connGradient)" stroke-width="2.5" class="connection-line" />`;
            });

            // --- 2. Draw path from Fix & Enrich (Center) to File GDB (Right) ---
            if (fixEnrichBadge && fileGdbCard) {
                const fixRect = fixEnrichBadge.getBoundingClientRect();
                const fileGdbRect = fileGdbCard.getBoundingClientRect();

                // Start: Right edge of 'Fix' badge
                const startX2 = fixRect.right - containerRect.left;
                const startY2 = fixRect.top - containerRect.top + (fixRect.height / 2);

                // End: Left edge of 'File GDB' card
                const endX2 = fileGdbRect.left - containerRect.left;
                const endY2 = fileGdbRect.top - containerRect.top + (fileGdbRect.height / 2);

                // Control points
                const cp1X2 = startX2 + 60;
                const cp1Y2 = startY2;
                const cp2X2 = endX2 - 60;
                const cp2Y2 = endY2;

                const d2 = `M ${startX2} ${startY2} C ${cp1X2} ${cp1Y2}, ${cp2X2} ${cp2Y2}, ${endX2} ${endY2}`;

                svgContent += `<path d="${d2}" fill="none" stroke="url(#connGradient2)" stroke-width="2.5" class="connection-line" />`;
            }

            // Apply updated content to SVG
            svgLayer.innerHTML = svgContent;
        }


        // --- FUNCTION FROM OPERATIONAL WORKFLOW ---
        function switchMode(mode) {
            const contentOld = document.getElementById('content-old');
            const contentNew = document.getElementById('content-new');
            const btnOld = document.getElementById('btn-old');
            const btnNew = document.getElementById('btn-new');
            const pageTitle = document.getElementById('page-title');

            if (mode === 'old') {
                contentOld.classList.remove('hidden');
                contentNew.classList.add('hidden');
                pageTitle.textContent = "The Old Cadastral Plan Lifecycle";
                btnOld.className = "bg-white text-slate-900 px-6 py-2 rounded-full font-bold shadow-lg transition-all transform hover:scale-105 ring-2 ring-white";
                btnNew.className = "bg-slate-800 text-slate-400 px-6 py-2 rounded-full font-bold shadow-lg transition-all transform hover:scale-105 hover:bg-slate-700 border border-slate-700";
            } else {
                contentOld.classList.add('hidden');
                contentNew.classList.remove('hidden');
                pageTitle.textContent = "The New Cadastral Plan Lifecycle";
                btnNew.className = "bg-white text-slate-900 px-6 py-2 rounded-full font-bold shadow-lg transition-all transform hover:scale-105 ring-2 ring-white";
                btnOld.className = "bg-slate-800 text-slate-400 px-6 py-2 rounded-full font-bold shadow-lg transition-all transform hover:scale-105 hover:bg-slate-700 border border-slate-700";
            }
        }

        // --- EXISTING SCRIPT ---
        document.addEventListener('DOMContentLoaded', () => {
            const sidebar = document.getElementById('sidebar');
            const toggleBtn = document.getElementById('toggle-sidebar-btn');
            const toggleIcon = document.getElementById('toggle-icon');
            const navLinks = document.querySelectorAll('.nav-link');
            const pageContents = document.querySelectorAll('.page-content');
            const sidebarTitle = document.getElementById('sidebar-title');
            const mainContent = document.getElementById('main-content');
            const sidebarTextElements = document.querySelectorAll('.sidebar-text');

            let isExpanded = true;

            function collapseSidebar() {
                if (sidebar) {
                    sidebar.classList.remove('md:w-64');
                    sidebar.classList.add('w-16');
                }
                if (sidebarTitle) {
                    sidebarTitle.classList.add('opacity-0');
                    sidebarTitle.classList.remove('opacity-100', 'hidden', 'md:block');
                }
                sidebarTextElements.forEach(span => {
                    span.classList.add('hidden');
                    span.classList.remove('md:inline');
                });
                if (toggleIcon) {
                    // Arrow points Right when collapsed
                    toggleIcon.classList.add('rotate-180');
                    toggleIcon.classList.remove('rotate-0');
                }
                if (mainContent) {
                    mainContent.classList.remove('md:ml-64');
                    mainContent.classList.add('ml-16');
                }
                isExpanded = false;
            }

            function expandSidebar() {
                if (sidebar) {
                    sidebar.classList.remove('w-16');
                    sidebar.classList.add('md:w-64');
                }
                if (sidebarTitle) {
                    sidebarTitle.classList.remove('opacity-0');
                    sidebarTitle.classList.add('opacity-100', 'md:block');
                }
                sidebarTextElements.forEach(span => {
                    span.classList.remove('hidden');
                    span.classList.add('inline');
                });
                if (toggleIcon) {
                    // Arrow points Left when expanded
                    toggleIcon.classList.add('rotate-0');
                    toggleIcon.classList.remove('rotate-180');
                }
                if (mainContent) {
                    mainContent.classList.remove('ml-16');
                    mainContent.classList.add('md:ml-64');
                }
                isExpanded = true;
            }

            if (toggleBtn) {
                toggleBtn.addEventListener('click', () => {
                    isExpanded ? collapseSidebar() : expandSidebar();
                    // If we resize the sidebar while on ETL page, we need to redraw lines
                    setTimeout(() => {
                        const etlPage = document.getElementById('page-etl');
                        if (etlPage && etlPage.classList.contains('active')) {
                            updateETLPaths();
                        }
                    }, 350); // Wait for transition
                });
            }

            if (window.innerWidth < 768) {
                collapseSidebar();
            } else {
                expandSidebar();
            }

            function switchPage(pageId) {
                pageContents.forEach(section => {
                    section.classList.add('hidden');
                    section.classList.remove('active');
                });
                const targetPage = document.getElementById(`page-${pageId}`);
                if (targetPage) {
                    targetPage.classList.remove('hidden');
                    targetPage.classList.add('active');

                    // Trigger ETL Diagram Update if we switched to ETL page
                    if (pageId === 'etl') {
                        // Small timeout to allow the browser to render the layout (width/height) before calculation
                        setTimeout(updateETLPaths, 50);
                    }
                }
                navLinks.forEach(link => {
                    link.classList.remove('bg-secondary-accent/10', 'text-white', 'shadow-md', 'border-secondary-accent');
                    link.classList.add('text-gray-300', 'hover:bg-white/10', 'hover:text-white', 'border-transparent');
                    if (link.dataset.page === pageId) {
                        link.classList.add('bg-secondary-accent/10', 'text-white', 'border-secondary-accent', 'shadow-md');
                        link.classList.remove('text-gray-300', 'hover:bg-white/10', 'hover:text-white', 'border-transparent');
                    }
                });

                if (window.innerWidth < 768 && isExpanded) {
                    collapseSidebar();
                }
            }

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    switchPage(e.currentTarget.dataset.page);
                });
            });

            const nextPageLinks = document.querySelectorAll('.next-page-link');
            nextPageLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = e.currentTarget.dataset.page;
                    switchPage(targetId);
                });
            });

            // Initial load
            switchPage('home');

            // Add resize listener for ETL diagram
            window.addEventListener('resize', updateETLPaths);

            // Initialize Charts
            const activeProportionColor = '#9333ea';
            const retiredProportionColor = '#dc2626';
            const barChartColor = '#FFC300';

            const monthlyVolumeData = {
                labels: ['Records Received', 'Records Completed'],
                values: [115, 100]
            };
            const perRecordStaffingData = {
                labels: ['New Parcels/Record', 'Retiring Parcels/Record', 'Cadaster Editors'],
                values: [13, 5, 5]
            };
            const parcelData = {
                labels: ['Active Parcels (1.1M)', 'Retired Parcels (495K)'],
                values: [1100000, 494850]
            };
            const blockData = {
                labels: ['Active Blocks (22K)', 'Retired Blocks (6K)'],
                values: [22450, 6350]
            };
            const numberFormatCallback = {
                label: function (context) {
                    let label = context.label.includes('(') ? context.label.split('(')[0].trim() : context.label;
                    if (label) label += ': ';
                    if (context.parsed !== null) label += new Intl.NumberFormat().format(context.parsed);
                    return label;
                }
            };
            const monthlyVolumeCtx = document.getElementById('monthlyVolumeChart');
            if (monthlyVolumeCtx) {
                new Chart(monthlyVolumeCtx, {
                    type: 'bar',
                    data: {
                        labels: monthlyVolumeData.labels,
                        datasets: [{ label: 'Monthly Count', data: monthlyVolumeData.values, backgroundColor: barChartColor, borderColor: 'rgba(0, 0, 0, 0.1)', borderWidth: 1, borderRadius: 4 }]
                    },
                    options: { responsive: true, maintainAspectRatio: true, scales: { y: { beginAtZero: true, grid: { color: '#E9ECEF' } }, x: { grid: { display: false } } }, plugins: { legend: { display: false } } }
                });
            }
            const perRecordStaffingCtx = document.getElementById('perRecordStaffingChart');
            if (perRecordStaffingCtx) {
                new Chart(perRecordStaffingCtx, {
                    type: 'bar',
                    data: {
                        labels: perRecordStaffingData.labels,
                        datasets: [{ label: 'Count / Value', data: perRecordStaffingData.values, backgroundColor: barChartColor, borderColor: 'rgba(0, 0, 0, 0.1)', borderWidth: 1, borderRadius: 4 }]
                    },
                    options: { responsive: true, maintainAspectRatio: true, scales: { y: { beginAtZero: true, grid: { color: '#E9ECEF' } }, x: { grid: { display: false } } }, plugins: { legend: { display: false } } }
                });
            }
            const parcelCtx = document.getElementById('parcelChart');
            if (parcelCtx) {
                new Chart(parcelCtx, {
                    type: 'doughnut',
                    data: { labels: parcelData.labels, datasets: [{ data: parcelData.values, backgroundColor: [activeProportionColor, retiredProportionColor], hoverOffset: 4, borderWidth: 2, borderColor: '#FFFFFF' }] },
                    options: { responsive: true, maintainAspectRatio: true, plugins: { legend: { position: 'bottom', labels: { color: '#343A40', font: { family: 'Inter', size: 12 } } }, tooltip: { callbacks: numberFormatCallback } } }
                });
            }
            const blockCtx = document.getElementById('blockChart');
            if (blockCtx) {
                new Chart(blockCtx, {
                    type: 'doughnut',
                    data: { labels: blockData.labels, datasets: [{ data: blockData.values, backgroundColor: [activeProportionColor, retiredProportionColor], hoverOffset: 4, borderWidth: 2, borderColor: '#FFFFFF' }] },
                    options: { responsive: true, maintainAspectRatio: true, plugins: { legend: { position: 'bottom', labels: { color: '#343A40', font: { family: 'Inter', size: 12 } } }, tooltip: { callbacks: numberFormatCallback } } }
                });
            }
        });
    </script>
</body>


</html>



